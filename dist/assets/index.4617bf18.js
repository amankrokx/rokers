(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Gf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=Symbol.for("react.element"),rv=Symbol.for("react.portal"),iv=Symbol.for("react.fragment"),sv=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),av=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),cv=Symbol.for("react.suspense"),dv=Symbol.for("react.memo"),fv=Symbol.for("react.lazy"),Vc=Symbol.iterator;function hv(t){return t===null||typeof t!="object"?null:(t=Vc&&t[Vc]||t["@@iterator"],typeof t=="function"?t:null)}var Qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yf=Object.assign,Kf={};function Or(t,e,n){this.props=t,this.context=e,this.refs=Kf,this.updater=n||Qf}Or.prototype.isReactComponent={};Or.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Or.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qf(){}qf.prototype=Or.prototype;function Ja(t,e,n){this.props=t,this.context=e,this.refs=Kf,this.updater=n||Qf}var Za=Ja.prototype=new qf;Za.constructor=Ja;Yf(Za,Or.prototype);Za.isPureReactComponent=!0;var Hc=Array.isArray,Xf=Object.prototype.hasOwnProperty,eu={current:null},Jf={key:!0,ref:!0,__self:!0,__source:!0};function Zf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Xf.call(e,r)&&!Jf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Vi,type:t,key:s,ref:o,props:i,_owner:eu.current}}function pv(t,e){return{$$typeof:Vi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vi}function mv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gc=/\/+/g;function el(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mv(""+t.key):e.toString(36)}function ks(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vi:case rv:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+el(o,0):r,Hc(i)?(n="",t!=null&&(n=t.replace(Gc,"$&/")+"/"),ks(i,e,n,"",function(u){return u})):i!=null&&(tu(i)&&(i=pv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Hc(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+el(s,l);o+=ks(s,e,n,a,i)}else if(a=hv(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+el(s,l++),o+=ks(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ss(t,e,n){if(t==null)return t;var r=[],i=0;return ks(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var We={current:null},Ts={transition:null},vv={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:eu};V.Children={map:ss,forEach:function(t,e,n){ss(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ss(t,function(){e++}),e},toArray:function(t){return ss(t,function(e){return e})||[]},only:function(t){if(!tu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=Or;V.Fragment=iv;V.Profiler=ov;V.PureComponent=Ja;V.StrictMode=sv;V.Suspense=cv;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=eu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Xf.call(e,a)&&!Jf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Vi,type:t.type,key:i,ref:s,props:r,_owner:o}};V.createContext=function(t){return t={$$typeof:av,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lv,_context:t},t.Consumer=t};V.createElement=Zf;V.createFactory=function(t){var e=Zf.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:uv,render:t}};V.isValidElement=tu;V.lazy=function(t){return{$$typeof:fv,_payload:{_status:-1,_result:t},_init:gv}};V.memo=function(t,e){return{$$typeof:dv,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=Ts.transition;Ts.transition={};try{t()}finally{Ts.transition=e}};V.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};V.useCallback=function(t,e){return We.current.useCallback(t,e)};V.useContext=function(t){return We.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return We.current.useDeferredValue(t)};V.useEffect=function(t,e){return We.current.useEffect(t,e)};V.useId=function(){return We.current.useId()};V.useImperativeHandle=function(t,e,n){return We.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return We.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return We.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return We.current.useMemo(t,e)};V.useReducer=function(t,e,n){return We.current.useReducer(t,e,n)};V.useRef=function(t){return We.current.useRef(t)};V.useState=function(t){return We.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return We.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return We.current.useTransition()};V.version="18.2.0";(function(t){t.exports=V})(Y);const ur=Gf(Y.exports);var Fl={},eh={exports:{}},it={},th={exports:{}},nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,y){var _=N.length;N.push(y);e:for(;0<_;){var C=_-1>>>1,D=N[C];if(0<i(D,y))N[C]=y,N[_]=D,_=C;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var y=N[0],_=N.pop();if(_!==y){N[0]=_;e:for(var C=0,D=N.length,M=D>>>1;C<M;){var B=2*(C+1)-1,me=N[B],oe=B+1,_e=N[oe];if(0>i(me,_))oe<D&&0>i(_e,me)?(N[C]=_e,N[oe]=_,C=oe):(N[C]=me,N[B]=_,C=B);else if(oe<D&&0>i(_e,_))N[C]=_e,N[oe]=_,C=oe;else break e}}return y}function i(N,y){var _=N.sortIndex-y.sortIndex;return _!==0?_:N.id-y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,c=null,d=3,p=!1,g=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var y=n(u);y!==null;){if(y.callback===null)r(u);else if(y.startTime<=N)r(u),y.sortIndex=y.expirationTime,e(a,y);else break;y=n(u)}}function S(N){if(w=!1,v(N),!g)if(n(a)!==null)g=!0,ae(x);else{var y=n(u);y!==null&&Q(S,y.startTime-N)}}function x(N,y){g=!1,w&&(w=!1,m(P),P=-1),p=!0;var _=d;try{for(v(y),c=n(a);c!==null&&(!(c.expirationTime>y)||N&&!ve());){var C=c.callback;if(typeof C=="function"){c.callback=null,d=c.priorityLevel;var D=C(c.expirationTime<=y);y=t.unstable_now(),typeof D=="function"?c.callback=D:c===n(a)&&r(a),v(y)}else r(a);c=n(a)}if(c!==null)var M=!0;else{var B=n(u);B!==null&&Q(S,B.startTime-y),M=!1}return M}finally{c=null,d=_,p=!1}}var A=!1,T=null,P=-1,K=5,b=-1;function ve(){return!(t.unstable_now()-b<K)}function L(){if(T!==null){var N=t.unstable_now();b=N;var y=!0;try{y=T(!0,N)}finally{y?z():(A=!1,T=null)}}else A=!1}var z;if(typeof h=="function")z=function(){h(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=L,z=function(){q.postMessage(null)}}else z=function(){R(L,0)};function ae(N){T=N,A||(A=!0,z())}function Q(N,y){P=R(function(){N(t.unstable_now())},y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,ae(x))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var y=3;break;default:y=d}var _=d;d=y;try{return N()}finally{d=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,y){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var _=d;d=N;try{return y()}finally{d=_}},t.unstable_scheduleCallback=function(N,y,_){var C=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?C+_:C):_=C,N){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=_+D,N={id:f++,callback:y,priorityLevel:N,startTime:_,expirationTime:D,sortIndex:-1},_>C?(N.sortIndex=_,e(u,N),n(a)===null&&N===n(u)&&(w?(m(P),P=-1):w=!0,Q(S,_-C))):(N.sortIndex=D,e(a,N),g||p||(g=!0,ae(x))),N},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(N){var y=d;return function(){var _=d;d=y;try{return N.apply(this,arguments)}finally{d=_}}}})(nh);(function(t){t.exports=nh})(th);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=Y.exports,rt=th.exports;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ih=new Set,vi={};function $n(t,e){Sr(t,e),Sr(t+"Capture",e)}function Sr(t,e){for(vi[t]=e,t=0;t<e.length;t++)ih.add(e[t])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,_v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qc={},Yc={};function yv(t){return zl.call(Yc,t)?!0:zl.call(Qc,t)?!1:_v.test(t)?Yc[t]=!0:(Qc[t]=!0,!1)}function wv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Sv(t,e,n,r){if(e===null||typeof e>"u"||wv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ae[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ae[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ae[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ae[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ae[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ae[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ae[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ae[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ae[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var nu=/[\-:]([a-z])/g;function ru(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nu,ru);Ae[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nu,ru);Ae[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nu,ru);Ae[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ae[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ae[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function iu(t,e,n,r){var i=Ae.hasOwnProperty(e)?Ae[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Sv(e,n,i,r)&&(n=null),r||i===null?yv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $t=rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),su=Symbol.for("react.strict_mode"),Ul=Symbol.for("react.profiler"),sh=Symbol.for("react.provider"),oh=Symbol.for("react.context"),ou=Symbol.for("react.forward_ref"),Bl=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),lu=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),lh=Symbol.for("react.offscreen"),Kc=Symbol.iterator;function jr(t){return t===null||typeof t!="object"?null:(t=Kc&&t[Kc]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,tl;function ei(t){if(tl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tl=e&&e[1]||""}return`
`+tl+t}var nl=!1;function rl(t,e){if(!t||nl)return"";nl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{nl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ei(t):""}function Cv(t){switch(t.tag){case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return t=rl(t.type,!1),t;case 11:return t=rl(t.type.render,!1),t;case 1:return t=rl(t.type,!0),t;default:return""}}function jl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qn:return"Fragment";case Kn:return"Portal";case Ul:return"Profiler";case su:return"StrictMode";case Bl:return"Suspense";case Wl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oh:return(t.displayName||"Context")+".Consumer";case sh:return(t._context.displayName||"Context")+".Provider";case ou:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lu:return e=t.displayName||null,e!==null?e:jl(t.type)||"Memo";case Yt:e=t._payload,t=t._init;try{return jl(t(e))}catch{}}return null}function Ev(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jl(e);case 8:return e===su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ah(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kv(t){var e=ah(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ls(t){t._valueTracker||(t._valueTracker=kv(t))}function uh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ah(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $l(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function qc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ch(t,e){e=e.checked,e!=null&&iu(t,"checked",e,!1)}function Vl(t,e){ch(t,e);var n=fn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hl(t,e.type,fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hl(t,e,n){(e!=="number"||bs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ti=Array.isArray;function cr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(ti(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fn(n)}}function dh(t,e){var n=fn(e.value),r=fn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var as,hh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=as.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _i(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tv=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(t){Tv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ii[e]=ii[t]})});function ph(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ii.hasOwnProperty(t)&&ii[t]?(""+e).trim():e+"px"}function mh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ph(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Iv=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(t,e){if(e){if(Iv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Kl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function au(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xl=null,dr=null,fr=null;function ed(t){if(t=Qi(t)){if(typeof Xl!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Ro(e),Xl(t.stateNode,t.type,e))}}function gh(t){dr?fr?fr.push(t):fr=[t]:dr=t}function vh(){if(dr){var t=dr,e=fr;if(fr=dr=null,ed(t),e)for(t=0;t<e.length;t++)ed(e[t])}}function _h(t,e){return t(e)}function yh(){}var il=!1;function wh(t,e,n){if(il)return t(e,n);il=!0;try{return _h(t,e,n)}finally{il=!1,(dr!==null||fr!==null)&&(yh(),vh())}}function yi(t,e){var n=t.stateNode;if(n===null)return null;var r=Ro(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Jl=!1;if(zt)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Jl=!1}function Nv(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var si=!1,Fs=null,zs=!1,Zl=null,Rv={onError:function(t){si=!0,Fs=t}};function xv(t,e,n,r,i,s,o,l,a){si=!1,Fs=null,Nv.apply(Rv,arguments)}function Pv(t,e,n,r,i,s,o,l,a){if(xv.apply(this,arguments),si){if(si){var u=Fs;si=!1,Fs=null}else throw Error(E(198));zs||(zs=!0,Zl=u)}}function Vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function td(t){if(Vn(t)!==t)throw Error(E(188))}function Av(t){var e=t.alternate;if(!e){if(e=Vn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return td(i),t;if(s===r)return td(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Ch(t){return t=Av(t),t!==null?Eh(t):null}function Eh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Eh(t);if(e!==null)return e;t=t.sibling}return null}var kh=rt.unstable_scheduleCallback,nd=rt.unstable_cancelCallback,Dv=rt.unstable_shouldYield,Ov=rt.unstable_requestPaint,pe=rt.unstable_now,Lv=rt.unstable_getCurrentPriorityLevel,uu=rt.unstable_ImmediatePriority,Th=rt.unstable_UserBlockingPriority,Us=rt.unstable_NormalPriority,Mv=rt.unstable_LowPriority,Ih=rt.unstable_IdlePriority,ko=null,Rt=null;function bv(t){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ko,t,void 0,(t.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Uv,Fv=Math.log,zv=Math.LN2;function Uv(t){return t>>>=0,t===0?32:31-(Fv(t)/zv|0)|0}var us=64,cs=4194304;function ni(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ni(l):(s&=o,s!==0&&(r=ni(s)))}else o=n&~i,o!==0?r=ni(o):s!==0&&(r=ni(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yt(e),i=1<<n,r|=t[n],e&=~i;return r}function Bv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yt(s),l=1<<o,a=i[o];a===-1?((l&n)===0||(l&r)!==0)&&(i[o]=Bv(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function ea(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nh(){var t=us;return us<<=1,(us&4194240)===0&&(us=64),t}function sl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yt(e),t[e]=n}function jv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function cu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var J=0;function Rh(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var xh,du,Ph,Ah,Dh,ta=!1,ds=[],en=null,tn=null,nn=null,wi=new Map,Si=new Map,qt=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(t,e){switch(t){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":wi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(e.pointerId)}}function Vr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qi(e),e!==null&&du(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vv(t,e,n,r,i){switch(e){case"focusin":return en=Vr(en,t,e,n,r,i),!0;case"dragenter":return tn=Vr(tn,t,e,n,r,i),!0;case"mouseover":return nn=Vr(nn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wi.set(s,Vr(wi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Si.set(s,Vr(Si.get(s)||null,t,e,n,r,i)),!0}return!1}function Oh(t){var e=Tn(t.target);if(e!==null){var n=Vn(e);if(n!==null){if(e=n.tag,e===13){if(e=Sh(n),e!==null){t.blockedOn=e,Dh(t.priority,function(){Ph(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Is(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=na(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ql=r,n.target.dispatchEvent(r),ql=null}else return e=Qi(n),e!==null&&du(e),t.blockedOn=n,!1;e.shift()}return!0}function id(t,e,n){Is(t)&&n.delete(e)}function Hv(){ta=!1,en!==null&&Is(en)&&(en=null),tn!==null&&Is(tn)&&(tn=null),nn!==null&&Is(nn)&&(nn=null),wi.forEach(id),Si.forEach(id)}function Hr(t,e){t.blockedOn===e&&(t.blockedOn=null,ta||(ta=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Hv)))}function Ci(t){function e(i){return Hr(i,t)}if(0<ds.length){Hr(ds[0],t);for(var n=1;n<ds.length;n++){var r=ds[n];r.blockedOn===t&&(r.blockedOn=null)}}for(en!==null&&Hr(en,t),tn!==null&&Hr(tn,t),nn!==null&&Hr(nn,t),wi.forEach(e),Si.forEach(e),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Oh(n),n.blockedOn===null&&qt.shift()}var hr=$t.ReactCurrentBatchConfig,Ws=!0;function Gv(t,e,n,r){var i=J,s=hr.transition;hr.transition=null;try{J=1,fu(t,e,n,r)}finally{J=i,hr.transition=s}}function Qv(t,e,n,r){var i=J,s=hr.transition;hr.transition=null;try{J=4,fu(t,e,n,r)}finally{J=i,hr.transition=s}}function fu(t,e,n,r){if(Ws){var i=na(t,e,n,r);if(i===null)ml(t,e,r,js,n),rd(t,r);else if(Vv(i,t,e,n,r))r.stopPropagation();else if(rd(t,r),e&4&&-1<$v.indexOf(t)){for(;i!==null;){var s=Qi(i);if(s!==null&&xh(s),s=na(t,e,n,r),s===null&&ml(t,e,r,js,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ml(t,e,r,null,n)}}var js=null;function na(t,e,n,r){if(js=null,t=au(r),t=Tn(t),t!==null)if(e=Vn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return js=t,null}function Lh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lv()){case uu:return 1;case Th:return 4;case Us:case Mv:return 16;case Ih:return 536870912;default:return 16}default:return 16}}var Jt=null,hu=null,Ns=null;function Mh(){if(Ns)return Ns;var t,e=hu,n=e.length,r,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ns=i.slice(t,1<r?1-r:void 0)}function Rs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fs(){return!0}function sd(){return!1}function st(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fs:sd,this.isPropagationStopped=sd,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),e}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=st(Lr),Gi=de({},Lr,{view:0,detail:0}),Yv=st(Gi),ol,ll,Gr,To=de({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gr&&(Gr&&t.type==="mousemove"?(ol=t.screenX-Gr.screenX,ll=t.screenY-Gr.screenY):ll=ol=0,Gr=t),ol)},movementY:function(t){return"movementY"in t?t.movementY:ll}}),od=st(To),Kv=de({},To,{dataTransfer:0}),qv=st(Kv),Xv=de({},Gi,{relatedTarget:0}),al=st(Xv),Jv=de({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zv=st(Jv),e_=de({},Lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t_=st(e_),n_=de({},Lr,{data:0}),ld=st(n_),r_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s_[t])?!!e[t]:!1}function mu(){return o_}var l_=de({},Gi,{key:function(t){if(t.key){var e=r_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(t){return t.type==="keypress"?Rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a_=st(l_),u_=de({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=st(u_),c_=de({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),d_=st(c_),f_=de({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),h_=st(f_),p_=de({},To,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m_=st(p_),g_=[9,13,27,32],gu=zt&&"CompositionEvent"in window,oi=null;zt&&"documentMode"in document&&(oi=document.documentMode);var v_=zt&&"TextEvent"in window&&!oi,bh=zt&&(!gu||oi&&8<oi&&11>=oi),ud=String.fromCharCode(32),cd=!1;function Fh(t,e){switch(t){case"keyup":return g_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xn=!1;function __(t,e){switch(t){case"compositionend":return zh(e);case"keypress":return e.which!==32?null:(cd=!0,ud);case"textInput":return t=e.data,t===ud&&cd?null:t;default:return null}}function y_(t,e){if(Xn)return t==="compositionend"||!gu&&Fh(t,e)?(t=Mh(),Ns=hu=Jt=null,Xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bh&&e.locale!=="ko"?null:e.data;default:return null}}var w_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!w_[t.type]:e==="textarea"}function Uh(t,e,n,r){gh(r),e=$s(e,"onChange"),0<e.length&&(n=new pu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var li=null,Ei=null;function S_(t){qh(t,0)}function Io(t){var e=er(t);if(uh(e))return t}function C_(t,e){if(t==="change")return e}var Bh=!1;if(zt){var ul;if(zt){var cl="oninput"in document;if(!cl){var fd=document.createElement("div");fd.setAttribute("oninput","return;"),cl=typeof fd.oninput=="function"}ul=cl}else ul=!1;Bh=ul&&(!document.documentMode||9<document.documentMode)}function hd(){li&&(li.detachEvent("onpropertychange",Wh),Ei=li=null)}function Wh(t){if(t.propertyName==="value"&&Io(Ei)){var e=[];Uh(e,Ei,t,au(t)),wh(S_,e)}}function E_(t,e,n){t==="focusin"?(hd(),li=e,Ei=n,li.attachEvent("onpropertychange",Wh)):t==="focusout"&&hd()}function k_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(Ei)}function T_(t,e){if(t==="click")return Io(e)}function I_(t,e){if(t==="input"||t==="change")return Io(e)}function N_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:N_;function ki(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zl.call(e,i)||!Ct(t[i],e[i]))return!1}return!0}function pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function md(t,e){var n=pd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pd(n)}}function jh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $h(){for(var t=window,e=bs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bs(t.document)}return e}function vu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R_(t){var e=$h(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jh(n.ownerDocument.documentElement,n)){if(r!==null&&vu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=md(n,s);var o=md(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x_=zt&&"documentMode"in document&&11>=document.documentMode,Jn=null,ra=null,ai=null,ia=!1;function gd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ia||Jn==null||Jn!==bs(r)||(r=Jn,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ai&&ki(ai,r)||(ai=r,r=$s(ra,"onSelect"),0<r.length&&(e=new pu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jn)))}function hs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zn={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},dl={},Vh={};zt&&(Vh=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function No(t){if(dl[t])return dl[t];if(!Zn[t])return t;var e=Zn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vh)return dl[t]=e[n];return t}var Hh=No("animationend"),Gh=No("animationiteration"),Qh=No("animationstart"),Yh=No("transitionend"),Kh=new Map,vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(t,e){Kh.set(t,e),$n(e,[t])}for(var fl=0;fl<vd.length;fl++){var hl=vd[fl],P_=hl.toLowerCase(),A_=hl[0].toUpperCase()+hl.slice(1);gn(P_,"on"+A_)}gn(Hh,"onAnimationEnd");gn(Gh,"onAnimationIteration");gn(Qh,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(Yh,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function _d(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pv(r,e,void 0,t),t.currentTarget=null}function qh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;_d(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;_d(i,l,u),s=a}}}if(zs)throw t=Zl,zs=!1,Zl=null,t}function re(t,e){var n=e[ua];n===void 0&&(n=e[ua]=new Set);var r=t+"__bubble";n.has(r)||(Xh(e,t,2,!1),n.add(r))}function pl(t,e,n){var r=0;e&&(r|=4),Xh(n,t,r,e)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Ti(t){if(!t[ps]){t[ps]=!0,ih.forEach(function(n){n!=="selectionchange"&&(D_.has(n)||pl(n,!1,t),pl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ps]||(e[ps]=!0,pl("selectionchange",!1,e))}}function Xh(t,e,n,r){switch(Lh(e)){case 1:var i=Gv;break;case 4:i=Qv;break;default:i=fu}n=i.bind(null,e,n,t),i=void 0,!Jl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ml(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Tn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}wh(function(){var u=s,f=au(n),c=[];e:{var d=Kh.get(t);if(d!==void 0){var p=pu,g=t;switch(t){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":p=a_;break;case"focusin":g="focus",p=al;break;case"focusout":g="blur",p=al;break;case"beforeblur":case"afterblur":p=al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=d_;break;case Hh:case Gh:case Qh:p=Zv;break;case Yh:p=h_;break;case"scroll":p=Yv;break;case"wheel":p=m_;break;case"copy":case"cut":case"paste":p=t_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ad}var w=(e&4)!==0,R=!w&&t==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var h=u,v;h!==null;){v=h;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,m!==null&&(S=yi(h,m),S!=null&&w.push(Ii(h,S,v)))),R)break;h=h.return}0<w.length&&(d=new p(d,g,null,n,f),c.push({event:d,listeners:w}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==ql&&(g=n.relatedTarget||n.fromElement)&&(Tn(g)||g[Ut]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Tn(g):null,g!==null&&(R=Vn(g),g!==R||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(w=od,S="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=ad,S="onPointerLeave",m="onPointerEnter",h="pointer"),R=p==null?d:er(p),v=g==null?d:er(g),d=new w(S,h+"leave",p,n,f),d.target=R,d.relatedTarget=v,S=null,Tn(f)===u&&(w=new w(m,h+"enter",g,n,f),w.target=v,w.relatedTarget=R,S=w),R=S,p&&g)t:{for(w=p,m=g,h=0,v=w;v;v=Qn(v))h++;for(v=0,S=m;S;S=Qn(S))v++;for(;0<h-v;)w=Qn(w),h--;for(;0<v-h;)m=Qn(m),v--;for(;h--;){if(w===m||m!==null&&w===m.alternate)break t;w=Qn(w),m=Qn(m)}w=null}else w=null;p!==null&&yd(c,d,p,w,!1),g!==null&&R!==null&&yd(c,R,g,w,!0)}}e:{if(d=u?er(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=C_;else if(dd(d))if(Bh)x=I_;else{x=k_;var A=E_}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=T_);if(x&&(x=x(t,u))){Uh(c,x,n,f);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Hl(d,"number",d.value)}switch(A=u?er(u):window,t){case"focusin":(dd(A)||A.contentEditable==="true")&&(Jn=A,ra=u,ai=null);break;case"focusout":ai=ra=Jn=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,gd(c,n,f);break;case"selectionchange":if(x_)break;case"keydown":case"keyup":gd(c,n,f)}var T;if(gu)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xn?Fh(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(bh&&n.locale!=="ko"&&(Xn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xn&&(T=Mh()):(Jt=f,hu="value"in Jt?Jt.value:Jt.textContent,Xn=!0)),A=$s(u,P),0<A.length&&(P=new ld(P,t,null,n,f),c.push({event:P,listeners:A}),T?P.data=T:(T=zh(n),T!==null&&(P.data=T)))),(T=v_?__(t,n):y_(t,n))&&(u=$s(u,"onBeforeInput"),0<u.length&&(f=new ld("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=T))}qh(c,e)})}function Ii(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $s(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yi(t,n),s!=null&&r.unshift(Ii(t,s,i)),s=yi(t,e),s!=null&&r.push(Ii(t,s,i))),t=t.return}return r}function Qn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yd(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=yi(n,s),a!=null&&o.unshift(Ii(n,a,l))):i||(a=yi(n,s),a!=null&&o.push(Ii(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var O_=/\r\n?/g,L_=/\u0000|\uFFFD/g;function wd(t){return(typeof t=="string"?t:""+t).replace(O_,`
`).replace(L_,"")}function ms(t,e,n){if(e=wd(e),wd(t)!==e&&n)throw Error(E(425))}function Vs(){}var sa=null,oa=null;function la(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aa=typeof setTimeout=="function"?setTimeout:void 0,M_=typeof clearTimeout=="function"?clearTimeout:void 0,Sd=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Sd<"u"?function(t){return Sd.resolve(null).then(t).catch(F_)}:aa;function F_(t){setTimeout(function(){throw t})}function gl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ci(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ci(e)}function rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Mr,Ni="__reactProps$"+Mr,Ut="__reactContainer$"+Mr,ua="__reactEvents$"+Mr,z_="__reactListeners$"+Mr,U_="__reactHandles$"+Mr;function Tn(t){var e=t[Nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ut]||n[Nt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cd(t);t!==null;){if(n=t[Nt])return n;t=Cd(t)}return e}t=n,n=t.parentNode}return null}function Qi(t){return t=t[Nt]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function er(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Ro(t){return t[Ni]||null}var ca=[],tr=-1;function vn(t){return{current:t}}function se(t){0>tr||(t.current=ca[tr],ca[tr]=null,tr--)}function ne(t,e){tr++,ca[tr]=t.current,t.current=e}var hn={},Fe=vn(hn),Ye=vn(!1),Dn=hn;function Cr(t,e){var n=t.type.contextTypes;if(!n)return hn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(t){return t=t.childContextTypes,t!=null}function Hs(){se(Ye),se(Fe)}function Ed(t,e,n){if(Fe.current!==hn)throw Error(E(168));ne(Fe,e),ne(Ye,n)}function Jh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,Ev(t)||"Unknown",i));return de({},n,r)}function Gs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hn,Dn=Fe.current,ne(Fe,t),ne(Ye,Ye.current),!0}function kd(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Jh(t,e,Dn),r.__reactInternalMemoizedMergedChildContext=t,se(Ye),se(Fe),ne(Fe,t)):se(Ye),ne(Ye,n)}var Dt=null,xo=!1,vl=!1;function Zh(t){Dt===null?Dt=[t]:Dt.push(t)}function B_(t){xo=!0,Zh(t)}function _n(){if(!vl&&Dt!==null){vl=!0;var t=0,e=J;try{var n=Dt;for(J=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dt=null,xo=!1}catch(i){throw Dt!==null&&(Dt=Dt.slice(t+1)),kh(uu,_n),i}finally{J=e,vl=!1}}return null}var nr=[],rr=0,Qs=null,Ys=0,ot=[],lt=0,On=null,Ot=1,Lt="";function Sn(t,e){nr[rr++]=Ys,nr[rr++]=Qs,Qs=t,Ys=e}function ep(t,e,n){ot[lt++]=Ot,ot[lt++]=Lt,ot[lt++]=On,On=t;var r=Ot;t=Lt;var i=32-yt(r)-1;r&=~(1<<i),n+=1;var s=32-yt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ot=1<<32-yt(e)+i|n<<i|r,Lt=s+t}else Ot=1<<s|n<<i|r,Lt=t}function _u(t){t.return!==null&&(Sn(t,1),ep(t,1,0))}function yu(t){for(;t===Qs;)Qs=nr[--rr],nr[rr]=null,Ys=nr[--rr],nr[rr]=null;for(;t===On;)On=ot[--lt],ot[lt]=null,Lt=ot[--lt],ot[lt]=null,Ot=ot[--lt],ot[lt]=null}var tt=null,et=null,le=!1,mt=null;function tp(t,e){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Td(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tt=t,et=rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tt=t,et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=On!==null?{id:Ot,overflow:Lt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tt=t,et=null,!0):!1;default:return!1}}function da(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fa(t){if(le){var e=et;if(e){var n=e;if(!Td(t,e)){if(da(t))throw Error(E(418));e=rn(n.nextSibling);var r=tt;e&&Td(t,e)?tp(r,n):(t.flags=t.flags&-4097|2,le=!1,tt=t)}}else{if(da(t))throw Error(E(418));t.flags=t.flags&-4097|2,le=!1,tt=t}}}function Id(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tt=t}function gs(t){if(t!==tt)return!1;if(!le)return Id(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!la(t.type,t.memoizedProps)),e&&(e=et)){if(da(t))throw np(),Error(E(418));for(;e;)tp(t,e),e=rn(e.nextSibling)}if(Id(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){et=rn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}et=null}}else et=tt?rn(t.stateNode.nextSibling):null;return!0}function np(){for(var t=et;t;)t=rn(t.nextSibling)}function Er(){et=tt=null,le=!1}function wu(t){mt===null?mt=[t]:mt.push(t)}var W_=$t.ReactCurrentBatchConfig;function ht(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ks=vn(null),qs=null,ir=null,Su=null;function Cu(){Su=ir=qs=null}function Eu(t){var e=Ks.current;se(Ks),t._currentValue=e}function ha(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pr(t,e){qs=t,Su=ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(He=!0),t.firstContext=null)}function ct(t){var e=t._currentValue;if(Su!==t)if(t={context:t,memoizedValue:e,next:null},ir===null){if(qs===null)throw Error(E(308));ir=t,qs.dependencies={lanes:0,firstContext:t}}else ir=ir.next=t;return e}var In=null;function ku(t){In===null?In=[t]:In.push(t)}function rp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ku(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bt(t,r)}function Bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kt=!1;function Tu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ip(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(G&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bt(t,n)}return i=r.interleaved,i===null?(e.next=e,ku(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bt(t,n)}function xs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cu(t,n)}}function Nd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xs(t,e,n,r){var i=t.updateQueue;Kt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,f=u=a=null,l=s;do{var d=l.lane,p=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,w=l;switch(d=e,p=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){c=g.call(p,c,d);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(p,c,d):g,d==null)break e;c=de({},c,d);break e;case 2:Kt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,a=c):f=f.next=p,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mn|=o,t.lanes=o,t.memoizedState=c}}function Rd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var sp=new rh.Component().refs;function pa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Po={isMounted:function(t){return(t=t._reactInternals)?Vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Be(),i=ln(t),s=bt(r,i);s.payload=e,n!=null&&(s.callback=n),e=sn(t,s,i),e!==null&&(wt(e,t,i,r),xs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Be(),i=ln(t),s=bt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=sn(t,s,i),e!==null&&(wt(e,t,i,r),xs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Be(),r=ln(t),i=bt(n,r);i.tag=2,e!=null&&(i.callback=e),e=sn(t,i,r),e!==null&&(wt(e,t,r,n),xs(e,t,r))}};function xd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ki(n,r)||!ki(i,s):!0}function op(t,e,n){var r=!1,i=hn,s=e.contextType;return typeof s=="object"&&s!==null?s=ct(s):(i=Ke(e)?Dn:Fe.current,r=e.contextTypes,s=(r=r!=null)?Cr(t,i):hn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Po,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Po.enqueueReplaceState(e,e.state,null)}function ma(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=sp,Tu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ct(s):(s=Ke(e)?Dn:Fe.current,i.context=Cr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Po.enqueueReplaceState(i,i.state,null),Xs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===sp&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function vs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ad(t){var e=t._init;return e(t._payload)}function lp(t){function e(m,h){if(t){var v=m.deletions;v===null?(m.deletions=[h],m.flags|=16):v.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=an(m,h),m.index=0,m.sibling=null,m}function s(m,h,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<h?(m.flags|=2,h):v):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,h,v,S){return h===null||h.tag!==6?(h=kl(v,m.mode,S),h.return=m,h):(h=i(h,v),h.return=m,h)}function a(m,h,v,S){var x=v.type;return x===qn?f(m,h,v.props.children,S,v.key):h!==null&&(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Yt&&Ad(x)===h.type)?(S=i(h,v.props),S.ref=Qr(m,h,v),S.return=m,S):(S=Ms(v.type,v.key,v.props,null,m.mode,S),S.ref=Qr(m,h,v),S.return=m,S)}function u(m,h,v,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Tl(v,m.mode,S),h.return=m,h):(h=i(h,v.children||[]),h.return=m,h)}function f(m,h,v,S,x){return h===null||h.tag!==7?(h=Pn(v,m.mode,S,x),h.return=m,h):(h=i(h,v),h.return=m,h)}function c(m,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=kl(""+h,m.mode,v),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case os:return v=Ms(h.type,h.key,h.props,null,m.mode,v),v.ref=Qr(m,null,h),v.return=m,v;case Kn:return h=Tl(h,m.mode,v),h.return=m,h;case Yt:var S=h._init;return c(m,S(h._payload),v)}if(ti(h)||jr(h))return h=Pn(h,m.mode,v,null),h.return=m,h;vs(m,h)}return null}function d(m,h,v,S){var x=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:l(m,h,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case os:return v.key===x?a(m,h,v,S):null;case Kn:return v.key===x?u(m,h,v,S):null;case Yt:return x=v._init,d(m,h,x(v._payload),S)}if(ti(v)||jr(v))return x!==null?null:f(m,h,v,S,null);vs(m,v)}return null}function p(m,h,v,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(v)||null,l(h,m,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case os:return m=m.get(S.key===null?v:S.key)||null,a(h,m,S,x);case Kn:return m=m.get(S.key===null?v:S.key)||null,u(h,m,S,x);case Yt:var A=S._init;return p(m,h,v,A(S._payload),x)}if(ti(S)||jr(S))return m=m.get(v)||null,f(h,m,S,x,null);vs(h,S)}return null}function g(m,h,v,S){for(var x=null,A=null,T=h,P=h=0,K=null;T!==null&&P<v.length;P++){T.index>P?(K=T,T=null):K=T.sibling;var b=d(m,T,v[P],S);if(b===null){T===null&&(T=K);break}t&&T&&b.alternate===null&&e(m,T),h=s(b,h,P),A===null?x=b:A.sibling=b,A=b,T=K}if(P===v.length)return n(m,T),le&&Sn(m,P),x;if(T===null){for(;P<v.length;P++)T=c(m,v[P],S),T!==null&&(h=s(T,h,P),A===null?x=T:A.sibling=T,A=T);return le&&Sn(m,P),x}for(T=r(m,T);P<v.length;P++)K=p(T,m,P,v[P],S),K!==null&&(t&&K.alternate!==null&&T.delete(K.key===null?P:K.key),h=s(K,h,P),A===null?x=K:A.sibling=K,A=K);return t&&T.forEach(function(ve){return e(m,ve)}),le&&Sn(m,P),x}function w(m,h,v,S){var x=jr(v);if(typeof x!="function")throw Error(E(150));if(v=x.call(v),v==null)throw Error(E(151));for(var A=x=null,T=h,P=h=0,K=null,b=v.next();T!==null&&!b.done;P++,b=v.next()){T.index>P?(K=T,T=null):K=T.sibling;var ve=d(m,T,b.value,S);if(ve===null){T===null&&(T=K);break}t&&T&&ve.alternate===null&&e(m,T),h=s(ve,h,P),A===null?x=ve:A.sibling=ve,A=ve,T=K}if(b.done)return n(m,T),le&&Sn(m,P),x;if(T===null){for(;!b.done;P++,b=v.next())b=c(m,b.value,S),b!==null&&(h=s(b,h,P),A===null?x=b:A.sibling=b,A=b);return le&&Sn(m,P),x}for(T=r(m,T);!b.done;P++,b=v.next())b=p(T,m,P,b.value,S),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?P:b.key),h=s(b,h,P),A===null?x=b:A.sibling=b,A=b);return t&&T.forEach(function(L){return e(m,L)}),le&&Sn(m,P),x}function R(m,h,v,S){if(typeof v=="object"&&v!==null&&v.type===qn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case os:e:{for(var x=v.key,A=h;A!==null;){if(A.key===x){if(x=v.type,x===qn){if(A.tag===7){n(m,A.sibling),h=i(A,v.props.children),h.return=m,m=h;break e}}else if(A.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Yt&&Ad(x)===A.type){n(m,A.sibling),h=i(A,v.props),h.ref=Qr(m,A,v),h.return=m,m=h;break e}n(m,A);break}else e(m,A);A=A.sibling}v.type===qn?(h=Pn(v.props.children,m.mode,S,v.key),h.return=m,m=h):(S=Ms(v.type,v.key,v.props,null,m.mode,S),S.ref=Qr(m,h,v),S.return=m,m=S)}return o(m);case Kn:e:{for(A=v.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(m,h.sibling),h=i(h,v.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=Tl(v,m.mode,S),h.return=m,m=h}return o(m);case Yt:return A=v._init,R(m,h,A(v._payload),S)}if(ti(v))return g(m,h,v,S);if(jr(v))return w(m,h,v,S);vs(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,v),h.return=m,m=h):(n(m,h),h=kl(v,m.mode,S),h.return=m,m=h),o(m)):n(m,h)}return R}var kr=lp(!0),ap=lp(!1),Yi={},xt=vn(Yi),Ri=vn(Yi),xi=vn(Yi);function Nn(t){if(t===Yi)throw Error(E(174));return t}function Iu(t,e){switch(ne(xi,e),ne(Ri,t),ne(xt,Yi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ql(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ql(e,t)}se(xt),ne(xt,e)}function Tr(){se(xt),se(Ri),se(xi)}function up(t){Nn(xi.current);var e=Nn(xt.current),n=Ql(e,t.type);e!==n&&(ne(Ri,t),ne(xt,n))}function Nu(t){Ri.current===t&&(se(xt),se(Ri))}var ue=vn(0);function Js(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _l=[];function Ru(){for(var t=0;t<_l.length;t++)_l[t]._workInProgressVersionPrimary=null;_l.length=0}var Ps=$t.ReactCurrentDispatcher,yl=$t.ReactCurrentBatchConfig,Ln=0,ce=null,ye=null,Ee=null,Zs=!1,ui=!1,Pi=0,j_=0;function De(){throw Error(E(321))}function xu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ct(t[n],e[n]))return!1;return!0}function Pu(t,e,n,r,i,s){if(Ln=s,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ps.current=t===null||t.memoizedState===null?G_:Q_,t=n(r,i),ui){s=0;do{if(ui=!1,Pi=0,25<=s)throw Error(E(301));s+=1,Ee=ye=null,e.updateQueue=null,Ps.current=Y_,t=n(r,i)}while(ui)}if(Ps.current=eo,e=ye!==null&&ye.next!==null,Ln=0,Ee=ye=ce=null,Zs=!1,e)throw Error(E(300));return t}function Au(){var t=Pi!==0;return Pi=0,t}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ce.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function dt(){if(ye===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=Ee===null?ce.memoizedState:Ee.next;if(e!==null)Ee=e,ye=t;else{if(t===null)throw Error(E(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ee===null?ce.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Ai(t,e){return typeof e=="function"?e(t):e}function wl(t){var e=dt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((Ln&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,ce.lanes|=f,Mn|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Ct(r,e.memoizedState)||(He=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ce.lanes|=s,Mn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sl(t){var e=dt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ct(s,e.memoizedState)||(He=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cp(){}function dp(t,e){var n=ce,r=dt(),i=e(),s=!Ct(r.memoizedState,i);if(s&&(r.memoizedState=i,He=!0),r=r.queue,Du(pp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Di(9,hp.bind(null,n,r,i,e),void 0,null),Ie===null)throw Error(E(349));(Ln&30)!==0||fp(n,e,i)}return i}function fp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hp(t,e,n,r){e.value=n,e.getSnapshot=r,mp(e)&&gp(t)}function pp(t,e,n){return n(function(){mp(e)&&gp(t)})}function mp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ct(t,n)}catch{return!0}}function gp(t){var e=Bt(t,1);e!==null&&wt(e,t,1,-1)}function Dd(t){var e=It();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},e.queue=t,t=t.dispatch=H_.bind(null,ce,t),[e.memoizedState,t]}function Di(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vp(){return dt().memoizedState}function As(t,e,n,r){var i=It();ce.flags|=t,i.memoizedState=Di(1|e,n,void 0,r===void 0?null:r)}function Ao(t,e,n,r){var i=dt();r=r===void 0?null:r;var s=void 0;if(ye!==null){var o=ye.memoizedState;if(s=o.destroy,r!==null&&xu(r,o.deps)){i.memoizedState=Di(e,n,s,r);return}}ce.flags|=t,i.memoizedState=Di(1|e,n,s,r)}function Od(t,e){return As(8390656,8,t,e)}function Du(t,e){return Ao(2048,8,t,e)}function _p(t,e){return Ao(4,2,t,e)}function yp(t,e){return Ao(4,4,t,e)}function wp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sp(t,e,n){return n=n!=null?n.concat([t]):null,Ao(4,4,wp.bind(null,e,t),n)}function Ou(){}function Cp(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ep(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kp(t,e,n){return(Ln&21)===0?(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n):(Ct(n,e)||(n=Nh(),ce.lanes|=n,Mn|=n,t.baseState=!0),e)}function $_(t,e){var n=J;J=n!==0&&4>n?n:4,t(!0);var r=yl.transition;yl.transition={};try{t(!1),e()}finally{J=n,yl.transition=r}}function Tp(){return dt().memoizedState}function V_(t,e,n){var r=ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ip(t))Np(e,n);else if(n=rp(t,e,n,r),n!==null){var i=Be();wt(n,t,r,i),Rp(n,e,r)}}function H_(t,e,n){var r=ln(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ip(t))Np(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ct(l,o)){var a=e.interleaved;a===null?(i.next=i,ku(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=rp(t,e,i,r),n!==null&&(i=Be(),wt(n,t,r,i),Rp(n,e,r))}}function Ip(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Np(t,e){ui=Zs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rp(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cu(t,n)}}var eo={readContext:ct,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},G_={readContext:ct,useCallback:function(t,e){return It().memoizedState=[t,e===void 0?null:e],t},useContext:ct,useEffect:Od,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,As(4194308,4,wp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return As(4194308,4,t,e)},useInsertionEffect:function(t,e){return As(4,2,t,e)},useMemo:function(t,e){var n=It();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=It();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=V_.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=It();return t={current:t},e.memoizedState=t},useState:Dd,useDebugValue:Ou,useDeferredValue:function(t){return It().memoizedState=t},useTransition:function(){var t=Dd(!1),e=t[0];return t=$_.bind(null,t[1]),It().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ce,i=It();if(le){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),Ie===null)throw Error(E(349));(Ln&30)!==0||fp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Od(pp.bind(null,r,s,t),[t]),r.flags|=2048,Di(9,hp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=It(),e=Ie.identifierPrefix;if(le){var n=Lt,r=Ot;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q_={readContext:ct,useCallback:Cp,useContext:ct,useEffect:Du,useImperativeHandle:Sp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:Ep,useReducer:wl,useRef:vp,useState:function(){return wl(Ai)},useDebugValue:Ou,useDeferredValue:function(t){var e=dt();return kp(e,ye.memoizedState,t)},useTransition:function(){var t=wl(Ai)[0],e=dt().memoizedState;return[t,e]},useMutableSource:cp,useSyncExternalStore:dp,useId:Tp,unstable_isNewReconciler:!1},Y_={readContext:ct,useCallback:Cp,useContext:ct,useEffect:Du,useImperativeHandle:Sp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:Ep,useReducer:Sl,useRef:vp,useState:function(){return Sl(Ai)},useDebugValue:Ou,useDeferredValue:function(t){var e=dt();return ye===null?e.memoizedState=t:kp(e,ye.memoizedState,t)},useTransition:function(){var t=Sl(Ai)[0],e=dt().memoizedState;return[t,e]},useMutableSource:cp,useSyncExternalStore:dp,useId:Tp,unstable_isNewReconciler:!1};function Ir(t,e){try{var n="",r=e;do n+=Cv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cl(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function ga(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K_=typeof WeakMap=="function"?WeakMap:Map;function xp(t,e,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){no||(no=!0,Ia=r),ga(t,e)},n}function Pp(t,e,n){n=bt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ga(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ga(t,e),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ld(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uy.bind(null,t,e,n),e.then(t,t))}function Md(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bd(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bt(-1,1),e.tag=2,sn(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var q_=$t.ReactCurrentOwner,He=!1;function Ue(t,e,n,r){e.child=t===null?ap(e,null,n,r):kr(e,t.child,n,r)}function Fd(t,e,n,r,i){n=n.render;var s=e.ref;return pr(e,i),r=Pu(t,e,n,r,s,i),n=Au(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wt(t,e,i)):(le&&n&&_u(e),e.flags|=1,Ue(t,e,r,i),e.child)}function zd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ap(t,e,s,r,i)):(t=Ms(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ki,n(o,r)&&t.ref===e.ref)return Wt(t,e,i)}return e.flags|=1,t=an(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ap(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ki(s,r)&&t.ref===e.ref)if(He=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(He=!0);else return e.lanes=t.lanes,Wt(t,e,i)}return va(t,e,n,r,i)}function Dp(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(or,Ze),Ze|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(or,Ze),Ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ne(or,Ze),Ze|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ne(or,Ze),Ze|=r;return Ue(t,e,i,n),e.child}function Op(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function va(t,e,n,r,i){var s=Ke(n)?Dn:Fe.current;return s=Cr(e,s),pr(e,i),n=Pu(t,e,n,r,s,i),r=Au(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wt(t,e,i)):(le&&r&&_u(e),e.flags|=1,Ue(t,e,n,i),e.child)}function Ud(t,e,n,r,i){if(Ke(n)){var s=!0;Gs(e)}else s=!1;if(pr(e,i),e.stateNode===null)Ds(t,e),op(e,n,r),ma(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ke(n)?Dn:Fe.current,u=Cr(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Pd(e,o,r,u),Kt=!1;var d=e.memoizedState;o.state=d,Xs(e,r,o,i),a=e.memoizedState,l!==r||d!==a||Ye.current||Kt?(typeof f=="function"&&(pa(e,n,f,r),a=e.memoizedState),(l=Kt||xd(e,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ip(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ht(e.type,l),o.props=u,c=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ct(a):(a=Ke(n)?Dn:Fe.current,a=Cr(e,a));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Pd(e,o,r,a),Kt=!1,d=e.memoizedState,o.state=d,Xs(e,r,o,i);var g=e.memoizedState;l!==c||d!==g||Ye.current||Kt?(typeof p=="function"&&(pa(e,n,p,r),g=e.memoizedState),(u=Kt||xd(e,n,u,r,d,g,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return _a(t,e,n,r,s,i)}function _a(t,e,n,r,i,s){Op(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kd(e,n,!1),Wt(t,e,s);r=e.stateNode,q_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=kr(e,t.child,null,s),e.child=kr(e,null,l,s)):Ue(t,e,l,s),e.memoizedState=r.state,i&&kd(e,n,!0),e.child}function Lp(t){var e=t.stateNode;e.pendingContext?Ed(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ed(t,e.context,!1),Iu(t,e.containerInfo)}function Bd(t,e,n,r,i){return Er(),wu(i),e.flags|=256,Ue(t,e,n,r),e.child}var ya={dehydrated:null,treeContext:null,retryLane:0};function wa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mp(t,e,n){var r=e.pendingProps,i=ue.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ne(ue,i&1),t===null)return fa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lo(o,r,0,null),t=Pn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=wa(n),e.memoizedState=ya,t):Lu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return X_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=an(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=an(l,s):(s=Pn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?wa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ya,r}return s=t.child,t=s.sibling,r=an(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lu(t,e){return e=Lo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _s(t,e,n,r){return r!==null&&wu(r),kr(e,t.child,null,n),t=Lu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cl(Error(E(422))),_s(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lo({mode:"visible",children:r.children},i,0,null),s=Pn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&kr(e,t.child,null,o),e.child.memoizedState=wa(o),e.memoizedState=ya,s);if((e.mode&1)===0)return _s(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(E(419)),r=Cl(s,r,void 0),_s(t,e,o,r)}if(l=(o&t.childLanes)!==0,He||l){if(r=Ie,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bt(t,i),wt(r,t,i,-1))}return Bu(),r=Cl(Error(E(421))),_s(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cy.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,et=rn(i.nextSibling),tt=e,le=!0,mt=null,t!==null&&(ot[lt++]=Ot,ot[lt++]=Lt,ot[lt++]=On,Ot=t.id,Lt=t.overflow,On=e),e=Lu(e,r.children),e.flags|=4096,e)}function Wd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ha(t.return,e,n)}function El(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ue(t,e,r.children,n),r=ue.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wd(t,n,e);else if(t.tag===19)Wd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ne(ue,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Js(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),El(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Js(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}El(e,!0,n,null,s);break;case"together":El(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ds(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mn|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=an(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=an(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J_(t,e,n){switch(e.tag){case 3:Lp(e),Er();break;case 5:up(e);break;case 1:Ke(e.type)&&Gs(e);break;case 4:Iu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ne(Ks,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ne(ue,ue.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Mp(t,e,n):(ne(ue,ue.current&1),t=Wt(t,e,n),t!==null?t.sibling:null);ne(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return bp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,Dp(t,e,n)}return Wt(t,e,n)}var Fp,Sa,zp,Up;Fp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sa=function(){};zp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Nn(xt.current);var s=null;switch(n){case"input":i=$l(t,i),r=$l(t,r),s=[];break;case"select":i=de({},i,{value:void 0}),r=de({},r,{value:void 0}),s=[];break;case"textarea":i=Gl(t,i),r=Gl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}Yl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&re("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Up=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yr(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z_(t,e,n){var r=e.pendingProps;switch(yu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return Ke(e.type)&&Hs(),Oe(e),null;case 3:return r=e.stateNode,Tr(),se(Ye),se(Fe),Ru(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,mt!==null&&(xa(mt),mt=null))),Sa(t,e),Oe(e),null;case 5:Nu(e);var i=Nn(xi.current);if(n=e.type,t!==null&&e.stateNode!=null)zp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return Oe(e),null}if(t=Nn(xt.current),gs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Nt]=e,r[Ni]=s,t=(e.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(i=0;i<ri.length;i++)re(ri[i],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":qc(r,s),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},re("invalid",r);break;case"textarea":Jc(r,s),re("invalid",r)}Yl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ms(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ms(r.textContent,l,t),i=["children",""+l]):vi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&re("scroll",r)}switch(n){case"input":ls(r),Xc(r,s,!0);break;case"textarea":ls(r),Zc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nt]=e,t[Ni]=r,Fp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kl(n,r),n){case"dialog":re("cancel",t),re("close",t),i=r;break;case"iframe":case"object":case"embed":re("load",t),i=r;break;case"video":case"audio":for(i=0;i<ri.length;i++)re(ri[i],t);i=r;break;case"source":re("error",t),i=r;break;case"img":case"image":case"link":re("error",t),re("load",t),i=r;break;case"details":re("toggle",t),i=r;break;case"input":qc(t,r),i=$l(t,r),re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=de({},r,{value:void 0}),re("invalid",t);break;case"textarea":Jc(t,r),i=Gl(t,r),re("invalid",t);break;default:i=r}Yl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?mh(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&hh(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&_i(t,a):typeof a=="number"&&_i(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&re("scroll",t):a!=null&&iu(t,s,a,o))}switch(n){case"input":ls(t),Xc(t,r,!1);break;case"textarea":ls(t),Zc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?cr(t,!!r.multiple,s,!1):r.defaultValue!=null&&cr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oe(e),null;case 6:if(t&&e.stateNode!=null)Up(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Nn(xi.current),Nn(xt.current),gs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nt]=e,(s=r.nodeValue!==n)&&(t=tt,t!==null))switch(t.tag){case 3:ms(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ms(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=e,e.stateNode=r}return Oe(e),null;case 13:if(se(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&et!==null&&(e.mode&1)!==0&&(e.flags&128)===0)np(),Er(),e.flags|=98560,s=!1;else if(s=gs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[Nt]=e}else Er(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Oe(e),s=!1}else mt!==null&&(xa(mt),mt=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ue.current&1)!==0?Se===0&&(Se=3):Bu())),e.updateQueue!==null&&(e.flags|=4),Oe(e),null);case 4:return Tr(),Sa(t,e),t===null&&Ti(e.stateNode.containerInfo),Oe(e),null;case 10:return Eu(e.type._context),Oe(e),null;case 17:return Ke(e.type)&&Hs(),Oe(e),null;case 19:if(se(ue),s=e.memoizedState,s===null)return Oe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Yr(s,!1);else{if(Se!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Js(t),o!==null){for(e.flags|=128,Yr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(ue,ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&pe()>Nr&&(e.flags|=128,r=!0,Yr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Js(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!le)return Oe(e),null}else 2*pe()-s.renderingStartTime>Nr&&n!==1073741824&&(e.flags|=128,r=!0,Yr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pe(),e.sibling=null,n=ue.current,ne(ue,r?n&1|2:n&1),e):(Oe(e),null);case 22:case 23:return Uu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Ze&1073741824)!==0&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function ey(t,e){switch(yu(e),e.tag){case 1:return Ke(e.type)&&Hs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tr(),se(Ye),se(Fe),Ru(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Nu(e),null;case 13:if(se(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Er()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(ue),null;case 4:return Tr(),null;case 10:return Eu(e.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var ys=!1,Le=!1,ty=typeof WeakSet=="function"?WeakSet:Set,O=null;function sr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function Ca(t,e,n){try{n()}catch(r){fe(t,e,r)}}var jd=!1;function ny(t,e){if(sa=Ws,t=$h(),vu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,c=t,d=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===t)break t;if(d===n&&++u===i&&(l=o),d===s&&++f===r&&(a=o),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(oa={focusedElem:t,selectionRange:n},Ws=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var g=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,R=g.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:ht(e.type,w),R);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(S){fe(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return g=jd,jd=!1,g}function ci(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ca(e,n,s)}i=i.next}while(i!==r)}}function Do(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ea(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bp(t){var e=t.alternate;e!==null&&(t.alternate=null,Bp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nt],delete e[Ni],delete e[ua],delete e[z_],delete e[U_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wp(t){return t.tag===5||t.tag===3||t.tag===4}function $d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ka(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(ka(t,e,n),t=t.sibling;t!==null;)ka(t,e,n),t=t.sibling}function Ta(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ta(t,e,n),t=t.sibling;t!==null;)Ta(t,e,n),t=t.sibling}var Re=null,pt=!1;function Qt(t,e,n){for(n=n.child;n!==null;)jp(t,e,n),n=n.sibling}function jp(t,e,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ko,n)}catch{}switch(n.tag){case 5:Le||sr(n,e);case 6:var r=Re,i=pt;Re=null,Qt(t,e,n),Re=r,pt=i,Re!==null&&(pt?(t=Re,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(pt?(t=Re,n=n.stateNode,t.nodeType===8?gl(t.parentNode,n):t.nodeType===1&&gl(t,n),Ci(t)):gl(Re,n.stateNode));break;case 4:r=Re,i=pt,Re=n.stateNode.containerInfo,pt=!0,Qt(t,e,n),Re=r,pt=i;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&Ca(n,e,o),i=i.next}while(i!==r)}Qt(t,e,n);break;case 1:if(!Le&&(sr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){fe(n,e,l)}Qt(t,e,n);break;case 21:Qt(t,e,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,Qt(t,e,n),Le=r):Qt(t,e,n);break;default:Qt(t,e,n)}}function Vd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ty),e.forEach(function(r){var i=dy.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Re=l.stateNode,pt=!1;break e;case 3:Re=l.stateNode.containerInfo,pt=!0;break e;case 4:Re=l.stateNode.containerInfo,pt=!0;break e}l=l.return}if(Re===null)throw Error(E(160));jp(s,o,i),Re=null,pt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$p(e,t),e=e.sibling}function $p(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ft(e,t),Tt(t),r&4){try{ci(3,t,t.return),Do(3,t)}catch(w){fe(t,t.return,w)}try{ci(5,t,t.return)}catch(w){fe(t,t.return,w)}}break;case 1:ft(e,t),Tt(t),r&512&&n!==null&&sr(n,n.return);break;case 5:if(ft(e,t),Tt(t),r&512&&n!==null&&sr(n,n.return),t.flags&32){var i=t.stateNode;try{_i(i,"")}catch(w){fe(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ch(i,s),Kl(l,o);var u=Kl(l,s);for(o=0;o<a.length;o+=2){var f=a[o],c=a[o+1];f==="style"?mh(i,c):f==="dangerouslySetInnerHTML"?hh(i,c):f==="children"?_i(i,c):iu(i,f,c,u)}switch(l){case"input":Vl(i,s);break;case"textarea":dh(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?cr(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?cr(i,!!s.multiple,s.defaultValue,!0):cr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ni]=s}catch(w){fe(t,t.return,w)}}break;case 6:if(ft(e,t),Tt(t),r&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){fe(t,t.return,w)}}break;case 3:if(ft(e,t),Tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ci(e.containerInfo)}catch(w){fe(t,t.return,w)}break;case 4:ft(e,t),Tt(t);break;case 13:ft(e,t),Tt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fu=pe())),r&4&&Vd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(u=Le)||f,ft(e,t),Le=u):ft(e,t),Tt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&(t.mode&1)!==0)for(O=t,f=t.child;f!==null;){for(c=O=f;O!==null;){switch(d=O,p=d.child,d.tag){case 0:case 11:case 14:case 15:ci(4,d,d.return);break;case 1:sr(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){fe(r,n,w)}}break;case 5:sr(d,d.return);break;case 22:if(d.memoizedState!==null){Gd(c);continue}}p!==null?(p.return=d,O=p):Gd(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ph("display",o))}catch(w){fe(t,t.return,w)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){fe(t,t.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ft(e,t),Tt(t),r&4&&Vd(t);break;case 21:break;default:ft(e,t),Tt(t)}}function Tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wp(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_i(i,""),r.flags&=-33);var s=$d(t);Ta(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=$d(t);ka(t,l,o);break;default:throw Error(E(161))}}catch(a){fe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ry(t,e,n){O=t,Vp(t)}function Vp(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ys;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Le;l=ys;var u=Le;if(ys=o,(Le=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Qd(i):a!==null?(a.return=o,O=a):Qd(i);for(;s!==null;)O=s,Vp(s),s=s.sibling;O=i,ys=l,Le=u}Hd(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,O=s):Hd(t)}}function Hd(t){for(;O!==null;){var e=O;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Le||Do(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Le)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ht(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Rd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Ci(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Le||e.flags&512&&Ea(e)}catch(d){fe(e,e.return,d)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Gd(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Qd(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Do(4,e)}catch(a){fe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){fe(e,i,a)}}var s=e.return;try{Ea(e)}catch(a){fe(e,s,a)}break;case 5:var o=e.return;try{Ea(e)}catch(a){fe(e,o,a)}}}catch(a){fe(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var iy=Math.ceil,to=$t.ReactCurrentDispatcher,Mu=$t.ReactCurrentOwner,ut=$t.ReactCurrentBatchConfig,G=0,Ie=null,ge=null,Pe=0,Ze=0,or=vn(0),Se=0,Oi=null,Mn=0,Oo=0,bu=0,di=null,$e=null,Fu=0,Nr=1/0,At=null,no=!1,Ia=null,on=null,ws=!1,Zt=null,ro=0,fi=0,Na=null,Os=-1,Ls=0;function Be(){return(G&6)!==0?pe():Os!==-1?Os:Os=pe()}function ln(t){return(t.mode&1)===0?1:(G&2)!==0&&Pe!==0?Pe&-Pe:W_.transition!==null?(Ls===0&&(Ls=Nh()),Ls):(t=J,t!==0||(t=window.event,t=t===void 0?16:Lh(t.type)),t)}function wt(t,e,n,r){if(50<fi)throw fi=0,Na=null,Error(E(185));Hi(t,n,r),((G&2)===0||t!==Ie)&&(t===Ie&&((G&2)===0&&(Oo|=n),Se===4&&Xt(t,Pe)),qe(t,r),n===1&&G===0&&(e.mode&1)===0&&(Nr=pe()+500,xo&&_n()))}function qe(t,e){var n=t.callbackNode;Wv(t,e);var r=Bs(t,t===Ie?Pe:0);if(r===0)n!==null&&nd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nd(n),e===1)t.tag===0?B_(Yd.bind(null,t)):Zh(Yd.bind(null,t)),b_(function(){(G&6)===0&&_n()}),n=null;else{switch(Rh(r)){case 1:n=uu;break;case 4:n=Th;break;case 16:n=Us;break;case 536870912:n=Ih;break;default:n=Us}n=Jp(n,Hp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hp(t,e){if(Os=-1,Ls=0,(G&6)!==0)throw Error(E(327));var n=t.callbackNode;if(mr()&&t.callbackNode!==n)return null;var r=Bs(t,t===Ie?Pe:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=io(t,r);else{e=r;var i=G;G|=2;var s=Qp();(Ie!==t||Pe!==e)&&(At=null,Nr=pe()+500,xn(t,e));do try{ly();break}catch(l){Gp(t,l)}while(1);Cu(),to.current=s,G=i,ge!==null?e=0:(Ie=null,Pe=0,e=Se)}if(e!==0){if(e===2&&(i=ea(t),i!==0&&(r=i,e=Ra(t,i))),e===1)throw n=Oi,xn(t,0),Xt(t,r),qe(t,pe()),n;if(e===6)Xt(t,r);else{if(i=t.current.alternate,(r&30)===0&&!sy(i)&&(e=io(t,r),e===2&&(s=ea(t),s!==0&&(r=s,e=Ra(t,s))),e===1))throw n=Oi,xn(t,0),Xt(t,r),qe(t,pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Cn(t,$e,At);break;case 3:if(Xt(t,r),(r&130023424)===r&&(e=Fu+500-pe(),10<e)){if(Bs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Be(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aa(Cn.bind(null,t,$e,At),e);break}Cn(t,$e,At);break;case 4:if(Xt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-yt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iy(r/1960))-r,10<r){t.timeoutHandle=aa(Cn.bind(null,t,$e,At),r);break}Cn(t,$e,At);break;case 5:Cn(t,$e,At);break;default:throw Error(E(329))}}}return qe(t,pe()),t.callbackNode===n?Hp.bind(null,t):null}function Ra(t,e){var n=di;return t.current.memoizedState.isDehydrated&&(xn(t,e).flags|=256),t=io(t,e),t!==2&&(e=$e,$e=n,e!==null&&xa(e)),t}function xa(t){$e===null?$e=t:$e.push.apply($e,t)}function sy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ct(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xt(t,e){for(e&=~bu,e&=~Oo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yt(e),r=1<<n;t[n]=-1,e&=~r}}function Yd(t){if((G&6)!==0)throw Error(E(327));mr();var e=Bs(t,0);if((e&1)===0)return qe(t,pe()),null;var n=io(t,e);if(t.tag!==0&&n===2){var r=ea(t);r!==0&&(e=r,n=Ra(t,r))}if(n===1)throw n=Oi,xn(t,0),Xt(t,e),qe(t,pe()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cn(t,$e,At),qe(t,pe()),null}function zu(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(Nr=pe()+500,xo&&_n())}}function bn(t){Zt!==null&&Zt.tag===0&&(G&6)===0&&mr();var e=G;G|=1;var n=ut.transition,r=J;try{if(ut.transition=null,J=1,t)return t()}finally{J=r,ut.transition=n,G=e,(G&6)===0&&_n()}}function Uu(){Ze=or.current,se(or)}function xn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,M_(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(yu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hs();break;case 3:Tr(),se(Ye),se(Fe),Ru();break;case 5:Nu(r);break;case 4:Tr();break;case 13:se(ue);break;case 19:se(ue);break;case 10:Eu(r.type._context);break;case 22:case 23:Uu()}n=n.return}if(Ie=t,ge=t=an(t.current,null),Pe=Ze=e,Se=0,Oi=null,bu=Oo=Mn=0,$e=di=null,In!==null){for(e=0;e<In.length;e++)if(n=In[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}In=null}return t}function Gp(t,e){do{var n=ge;try{if(Cu(),Ps.current=eo,Zs){for(var r=ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zs=!1}if(Ln=0,Ee=ye=ce=null,ui=!1,Pi=0,Mu.current=null,n===null||n.return===null){Se=1,Oi=e,ge=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if((f.mode&1)===0&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Md(o);if(p!==null){p.flags&=-257,bd(p,o,l,s,e),p.mode&1&&Ld(s,u,e),e=p,a=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(a),e.updateQueue=w}else g.add(a);break e}else{if((e&1)===0){Ld(s,u,e),Bu();break e}a=Error(E(426))}}else if(le&&l.mode&1){var R=Md(o);if(R!==null){(R.flags&65536)===0&&(R.flags|=256),bd(R,o,l,s,e),wu(Ir(a,l));break e}}s=a=Ir(a,l),Se!==4&&(Se=2),di===null?di=[s]:di.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=xp(s,a,e);Nd(s,m);break e;case 1:l=a;var h=s.type,v=s.stateNode;if((s.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(on===null||!on.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Pp(s,l,e);Nd(s,S);break e}}s=s.return}while(s!==null)}Kp(n)}catch(x){e=x,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(1)}function Qp(){var t=to.current;return to.current=eo,t===null?eo:t}function Bu(){(Se===0||Se===3||Se===2)&&(Se=4),Ie===null||(Mn&268435455)===0&&(Oo&268435455)===0||Xt(Ie,Pe)}function io(t,e){var n=G;G|=2;var r=Qp();(Ie!==t||Pe!==e)&&(At=null,xn(t,e));do try{oy();break}catch(i){Gp(t,i)}while(1);if(Cu(),G=n,to.current=r,ge!==null)throw Error(E(261));return Ie=null,Pe=0,Se}function oy(){for(;ge!==null;)Yp(ge)}function ly(){for(;ge!==null&&!Dv();)Yp(ge)}function Yp(t){var e=Xp(t.alternate,t,Ze);t.memoizedProps=t.pendingProps,e===null?Kp(t):ge=e,Mu.current=null}function Kp(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=Z_(n,e,Ze),n!==null){ge=n;return}}else{if(n=ey(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,ge=null;return}}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);Se===0&&(Se=5)}function Cn(t,e,n){var r=J,i=ut.transition;try{ut.transition=null,J=1,ay(t,e,n,r)}finally{ut.transition=i,J=r}return null}function ay(t,e,n,r){do mr();while(Zt!==null);if((G&6)!==0)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jv(t,s),t===Ie&&(ge=Ie=null,Pe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ws||(ws=!0,Jp(Us,function(){return mr(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=ut.transition,ut.transition=null;var o=J;J=1;var l=G;G|=4,Mu.current=null,ny(t,n),$p(n,t),R_(oa),Ws=!!sa,oa=sa=null,t.current=n,ry(n),Ov(),G=l,J=o,ut.transition=s}else t.current=n;if(ws&&(ws=!1,Zt=t,ro=i),s=t.pendingLanes,s===0&&(on=null),bv(n.stateNode),qe(t,pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(no)throw no=!1,t=Ia,Ia=null,t;return(ro&1)!==0&&t.tag!==0&&mr(),s=t.pendingLanes,(s&1)!==0?t===Na?fi++:(fi=0,Na=t):fi=0,_n(),null}function mr(){if(Zt!==null){var t=Rh(ro),e=ut.transition,n=J;try{if(ut.transition=null,J=16>t?16:t,Zt===null)var r=!1;else{if(t=Zt,Zt=null,ro=0,(G&6)!==0)throw Error(E(331));var i=G;for(G|=4,O=t.current;O!==null;){var s=O,o=s.child;if((O.flags&16)!==0){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var f=O;switch(f.tag){case 0:case 11:case 15:ci(8,f,s)}var c=f.child;if(c!==null)c.return=f,O=c;else for(;O!==null;){f=O;var d=f.sibling,p=f.return;if(Bp(f),f===u){O=null;break}if(d!==null){d.return=p,O=d;break}O=p}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var R=w.sibling;w.sibling=null,w=R}while(w!==null)}}O=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:ci(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,O=m;break e}O=s.return}}var h=t.current;for(O=h;O!==null;){o=O;var v=o.child;if((o.subtreeFlags&2064)!==0&&v!==null)v.return=o,O=v;else e:for(o=h;O!==null;){if(l=O,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:Do(9,l)}}catch(x){fe(l,l.return,x)}if(l===o){O=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,O=S;break e}O=l.return}}if(G=i,_n(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ko,t)}catch{}r=!0}return r}finally{J=n,ut.transition=e}}return!1}function Kd(t,e,n){e=Ir(n,e),e=xp(t,e,1),t=sn(t,e,1),e=Be(),t!==null&&(Hi(t,1,e),qe(t,e))}function fe(t,e,n){if(t.tag===3)Kd(t,t,n);else for(;e!==null;){if(e.tag===3){Kd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){t=Ir(n,t),t=Pp(e,t,1),e=sn(e,t,1),t=Be(),e!==null&&(Hi(e,1,t),qe(e,t));break}}e=e.return}}function uy(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Be(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(Pe&n)===n&&(Se===4||Se===3&&(Pe&130023424)===Pe&&500>pe()-Fu?xn(t,0):bu|=n),qe(t,e)}function qp(t,e){e===0&&((t.mode&1)===0?e=1:(e=cs,cs<<=1,(cs&130023424)===0&&(cs=4194304)));var n=Be();t=Bt(t,e),t!==null&&(Hi(t,e,n),qe(t,n))}function cy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qp(t,n)}function dy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),qp(t,n)}var Xp;Xp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)He=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return He=!1,J_(t,e,n);He=(t.flags&131072)!==0}else He=!1,le&&(e.flags&1048576)!==0&&ep(e,Ys,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ds(t,e),t=e.pendingProps;var i=Cr(e,Fe.current);pr(e,n),i=Pu(null,e,r,t,i,n);var s=Au();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ke(r)?(s=!0,Gs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tu(e),i.updater=Po,e.stateNode=i,i._reactInternals=e,ma(e,r,t,n),e=_a(null,e,r,!0,s,n)):(e.tag=0,le&&s&&_u(e),Ue(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ds(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hy(r),t=ht(r,t),i){case 0:e=va(null,e,r,t,n);break e;case 1:e=Ud(null,e,r,t,n);break e;case 11:e=Fd(null,e,r,t,n);break e;case 14:e=zd(null,e,r,ht(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),va(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),Ud(t,e,r,i,n);case 3:e:{if(Lp(e),t===null)throw Error(E(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ip(t,e),Xs(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ir(Error(E(423)),e),e=Bd(t,e,r,n,i);break e}else if(r!==i){i=Ir(Error(E(424)),e),e=Bd(t,e,r,n,i);break e}else for(et=rn(e.stateNode.containerInfo.firstChild),tt=e,le=!0,mt=null,n=ap(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Er(),r===i){e=Wt(t,e,n);break e}Ue(t,e,r,n)}e=e.child}return e;case 5:return up(e),t===null&&fa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,la(r,i)?o=null:s!==null&&la(r,s)&&(e.flags|=32),Op(t,e),Ue(t,e,o,n),e.child;case 6:return t===null&&fa(e),null;case 13:return Mp(t,e,n);case 4:return Iu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kr(e,null,r,n):Ue(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),Fd(t,e,r,i,n);case 7:return Ue(t,e,e.pendingProps,n),e.child;case 8:return Ue(t,e,e.pendingProps.children,n),e.child;case 12:return Ue(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ne(Ks,r._currentValue),r._currentValue=o,s!==null)if(Ct(s.value,o)){if(s.children===i.children&&!Ye.current){e=Wt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=bt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ha(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ha(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ue(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pr(e,n),i=ct(i),r=r(i),e.flags|=1,Ue(t,e,r,n),e.child;case 14:return r=e.type,i=ht(r,e.pendingProps),i=ht(r.type,i),zd(t,e,r,i,n);case 15:return Ap(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),Ds(t,e),e.tag=1,Ke(r)?(t=!0,Gs(e)):t=!1,pr(e,n),op(e,r,i),ma(e,r,i,n),_a(null,e,r,!0,t,n);case 19:return bp(t,e,n);case 22:return Dp(t,e,n)}throw Error(E(156,e.tag))};function Jp(t,e){return kh(t,e)}function fy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(t,e,n,r){return new fy(t,e,n,r)}function Wu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hy(t){if(typeof t=="function")return Wu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ou)return 11;if(t===lu)return 14}return 2}function an(t,e){var n=t.alternate;return n===null?(n=at(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ms(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qn:return Pn(n.children,i,s,e);case su:o=8,i|=8;break;case Ul:return t=at(12,n,e,i|2),t.elementType=Ul,t.lanes=s,t;case Bl:return t=at(13,n,e,i),t.elementType=Bl,t.lanes=s,t;case Wl:return t=at(19,n,e,i),t.elementType=Wl,t.lanes=s,t;case lh:return Lo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sh:o=10;break e;case oh:o=9;break e;case ou:o=11;break e;case lu:o=14;break e;case Yt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=at(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Pn(t,e,n,r){return t=at(7,t,r,e),t.lanes=n,t}function Lo(t,e,n,r){return t=at(22,t,r,e),t.elementType=lh,t.lanes=n,t.stateNode={isHidden:!1},t}function kl(t,e,n){return t=at(6,t,null,e),t.lanes=n,t}function Tl(t,e,n){return e=at(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function py(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(t,e,n,r,i,s,o,l,a){return t=new py(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=at(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(s),t}function my(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zp(t){if(!t)return hn;t=t._reactInternals;e:{if(Vn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Ke(n))return Jh(t,n,e)}return e}function em(t,e,n,r,i,s,o,l,a){return t=ju(n,r,!0,t,i,s,o,l,a),t.context=Zp(null),n=t.current,r=Be(),i=ln(n),s=bt(r,i),s.callback=e!=null?e:null,sn(n,s,i),t.current.lanes=i,Hi(t,i,r),qe(t,r),t}function Mo(t,e,n,r){var i=e.current,s=Be(),o=ln(i);return n=Zp(n),e.context===null?e.context=n:e.pendingContext=n,e=bt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sn(i,e,o),t!==null&&(wt(t,i,o,s),xs(t,i,o)),o}function so(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $u(t,e){qd(t,e),(t=t.alternate)&&qd(t,e)}function gy(){return null}var tm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vu(t){this._internalRoot=t}bo.prototype.render=Vu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Mo(t,e,null,null)};bo.prototype.unmount=Vu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bn(function(){Mo(null,t,null,null)}),e[Ut]=null}};function bo(t){this._internalRoot=t}bo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ah();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qt.length&&e!==0&&e<qt[n].priority;n++);qt.splice(n,0,t),n===0&&Oh(t)}};function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xd(){}function vy(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=so(o);s.call(u)}}var o=em(e,r,t,0,null,!1,!1,"",Xd);return t._reactRootContainer=o,t[Ut]=o.current,Ti(t.nodeType===8?t.parentNode:t),bn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=so(a);l.call(u)}}var a=ju(t,0,!1,null,null,!1,!1,"",Xd);return t._reactRootContainer=a,t[Ut]=a.current,Ti(t.nodeType===8?t.parentNode:t),bn(function(){Mo(e,a,n,r)}),a}function zo(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=so(o);l.call(a)}}Mo(e,o,t,i)}else o=vy(n,e,t,i,r);return so(o)}xh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ni(e.pendingLanes);n!==0&&(cu(e,n|1),qe(e,pe()),(G&6)===0&&(Nr=pe()+500,_n()))}break;case 13:bn(function(){var r=Bt(t,1);if(r!==null){var i=Be();wt(r,t,1,i)}}),$u(t,1)}};du=function(t){if(t.tag===13){var e=Bt(t,134217728);if(e!==null){var n=Be();wt(e,t,134217728,n)}$u(t,134217728)}};Ph=function(t){if(t.tag===13){var e=ln(t),n=Bt(t,e);if(n!==null){var r=Be();wt(n,t,e,r)}$u(t,e)}};Ah=function(){return J};Dh=function(t,e){var n=J;try{return J=t,e()}finally{J=n}};Xl=function(t,e,n){switch(e){case"input":if(Vl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ro(r);if(!i)throw Error(E(90));uh(r),Vl(r,i)}}}break;case"textarea":dh(t,n);break;case"select":e=n.value,e!=null&&cr(t,!!n.multiple,e,!1)}};_h=zu;yh=bn;var _y={usingClientEntryPoint:!1,Events:[Qi,er,Ro,gh,vh,zu]},Kr={findFiberByHostInstance:Tn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yy={bundleType:Kr.bundleType,version:Kr.version,rendererPackageName:Kr.rendererPackageName,rendererConfig:Kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ch(t),t===null?null:t.stateNode},findFiberByHostInstance:Kr.findFiberByHostInstance||gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{ko=Ss.inject(yy),Rt=Ss}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;it.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(e))throw Error(E(200));return my(t,e,null,n)};it.createRoot=function(t,e){if(!Hu(t))throw Error(E(299));var n=!1,r="",i=tm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ju(t,1,!1,null,null,n,!1,r,i),t[Ut]=e.current,Ti(t.nodeType===8?t.parentNode:t),new Vu(e)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Ch(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return bn(t)};it.hydrate=function(t,e,n){if(!Fo(e))throw Error(E(200));return zo(null,t,e,!0,n)};it.hydrateRoot=function(t,e,n){if(!Hu(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=em(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Ut]=e.current,Ti(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bo(e)};it.render=function(t,e,n){if(!Fo(e))throw Error(E(200));return zo(null,t,e,!1,n)};it.unmountComponentAtNode=function(t){if(!Fo(t))throw Error(E(40));return t._reactRootContainer?(bn(function(){zo(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};it.unstable_batchedUpdates=zu;it.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fo(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return zo(t,e,n,!1,r)};it.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=it})(eh);var Jd=eh.exports;Fl.createRoot=Jd.createRoot,Fl.hydrateRoot=Jd.hydrateRoot;function xe({path:t,options:e={method:"GET",mode:"cors",cache:"no-cache",credentials:"include",redirect:"follow"}}){if(!t)throw new Error("Path is required");return e={method:"GET",mode:"cors",cache:"no-cache",credentials:"include",headers:{},redirect:"follow",...e},console.log("bring",t,e),fetch(t,e)}var Uo={exports:{}},Bo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=Y.exports,Sy=Symbol.for("react.element"),Cy=Symbol.for("react.fragment"),Ey=Object.prototype.hasOwnProperty,ky=wy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ty={key:!0,ref:!0,__self:!0,__source:!0};function nm(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ey.call(e,r)&&!Ty.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Sy,type:t,key:s,ref:o,props:i,_owner:ky.current}}Bo.Fragment=Cy;Bo.jsx=nm;Bo.jsxs=nm;(function(t){t.exports=Bo})(Uo);const Pa=Uo.exports.Fragment,k=Uo.exports.jsx,H=Uo.exports.jsxs;function Iy(){const[t,e]=ur.useState([]),n=ur.useRef(null),[r,i]=ur.useState(!1);Y.exports.useEffect(()=>{xe({path:"albums"}).then(l=>l.json()).then(l=>{e(l),console.log(l)})},[]);function s(l){xe({path:"playAlbum/"+l,options:{method:"GET"}}).then(a=>a.json()).then(o)}function o(){n.current.classList.toggle("expand"),n.current.classList.toggle("albumContainer"),i(!r)}return H("div",{ref:n,className:"albumContainer",children:[H("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",padding:16},children:[k("span",{style:{fontSize:24,fontWeight:"bold",color:"var(--pt)"},children:"Albums"}),!r&&k("span",{className:"seeAll",onClick:o,children:"See all"}),r&&k("span",{className:"material-icons",onClick:o,children:"close"})]}),k("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",width:"100%",flexWrap:"wrap",overflowY:"scroll",whiteSpace:"pre-line",height:"calc(100% - 64px)"},children:t&&t.length>0&&t.map((l,a)=>!r&&a>1?null:H("article",{className:"albums",style:{backgroundImage:`url(${l.albumImage})`},children:[H("div",{className:"albumControlWrapper",children:[k("div",{className:"albumNameAndArtist",children:k("span",{children:l.albumName})}),k("div",{className:"playArrow",onClick:()=>s(l.albumID),children:k("span",{className:"material-icons-outlined",children:"play_arrow"})})]}),k("img",{className:"albumReflection",src:l.albumImage})]},l.albumID))})]})}const Wo=Y.exports.createContext(),Ny="/assets/weekend.5df5d849.avif";function Ry(){const[t,e]=ur.useState(!1),[n,r]=ur.useState({artistName:"The Weeknd",featured:!0,artistImage:Ny}),[i,s]=ur.useState([]);Y.exports.useEffect(()=>{xe({path:"featuredArtist"}).then(l=>l.json()).then(l=>{r(l),console.log(l)})},[]);function o(){xe({path:"featuredArtistSongs/"+n.artistID}).then(l=>l.json()).then(l=>{s(l),console.log(l)}).catch(l=>console.error(l))}return k(Pa,{children:t?k("div",{className:"expand",children:H("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:12,width:"100%",color:"var(--pt)"},children:[H("div",{className:"artistsHeader",children:[k("span",{className:"elipsis",style:{fontSize:24,fontWeight:"bold",lineClamp:1,WebkitLineClamp:1},children:n.artistName}),k("span",{className:"material-icons",onClick:()=>e(!1),children:"close"})]}),k("br",{}),k("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",width:"100%",flexWrap:"wrap",overflowY:"scroll",whiteSpace:"pre-line",height:"calc(100% - 64px)"},children:i.map((l,a)=>!t&&a>1?null:H("article",{className:"albums",style:{backgroundImage:`url(${l.albumArt})`},children:[H("div",{className:"albumControlWrapper",children:[k("div",{className:"albumNameAndArtist",children:k("span",{children:l.name})}),k("div",{className:"playArrow",onClick:()=>{xe({path:"play",options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({track:{id:l.sid}})}})},children:k("span",{className:"material-icons-outlined",children:"play_arrow"})})]}),k("img",{className:"albumReflection",src:l.albumArt})]},l.sid))})]})}):H("article",{className:"featuredArtist",style:{backgroundImage:`url(${n.artistImage})`},onClick:()=>{o(),e(!t)},children:[H("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12,width:"100%",margin:"16px 0",color:"var(--ic)",backdropFilter:"blur(6px) brightness(0.8)"},children:[H("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"baseline",marginLeft:16},children:[k("span",{className:"elipsis",style:{fontSize:24,fontWeight:"bold",color:"var(--lt)",lineClamp:1,WebkitLineClamp:1},children:n.artistName}),k("span",{style:{fontSize:16,fontWeight:"bold",color:"var(--st)"},children:"Featured Artist"})]}),H("div",{style:{display:"flex"},children:[k("div",{className:"playArrow",style:{height:"48px",width:"48px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"var(--container)",borderRadius:16,marginRight:8},onClick:l=>{l.stopPropagation(),xe({path:"playArtist/"+n.artistID,options:{method:"GET"}})},children:k("span",{className:"material-icons-outlined",style:{fontSize:32},children:"play_arrow"})}),k("div",{className:"playArrow",style:{height:"48px",width:"48px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"var(--container)",borderRadius:16},children:k("span",{className:"material-icons-outlined",style:{fontSize:32},children:"more_vert"})})]})]}),k("img",{className:"artistReflection",src:n.artistImage})]})})}function Aa(t,e,n){var r,i,s,o,l;e==null&&(e=100);function a(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(a,e-f):(r=null,n||(l=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var f=n&&!r;return r||(r=setTimeout(a,e)),f&&(l=t.apply(s,i),s=i=null),l};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(l=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}Aa.debounce=Aa;var xy=Aa;var Py={exports:{}};(function(t){var e=function(n){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(y,_,C){y[_]=C.value},o,l=typeof Symbol=="function"?Symbol:{},a=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function c(y,_,C){return Object.defineProperty(y,_,{value:C,enumerable:!0,configurable:!0,writable:!0}),y[_]}try{c({},"")}catch{c=function(_,C,D){return _[C]=D}}function d(y,_,C,D){var M=_&&_.prototype instanceof v?_:v,B=Object.create(M.prototype),me=new ae(D||[]);return s(B,"_invoke",{value:L(y,C,me)}),B}n.wrap=d;function p(y,_,C){try{return{type:"normal",arg:y.call(_,C)}}catch(D){return{type:"throw",arg:D}}}var g="suspendedStart",w="suspendedYield",R="executing",m="completed",h={};function v(){}function S(){}function x(){}var A={};c(A,a,function(){return this});var T=Object.getPrototypeOf,P=T&&T(T(Q([])));P&&P!==r&&i.call(P,a)&&(A=P);var K=x.prototype=v.prototype=Object.create(A);S.prototype=x,s(K,"constructor",{value:x,configurable:!0}),s(x,"constructor",{value:S,configurable:!0}),S.displayName=c(x,f,"GeneratorFunction");function b(y){["next","throw","return"].forEach(function(_){c(y,_,function(C){return this._invoke(_,C)})})}n.isGeneratorFunction=function(y){var _=typeof y=="function"&&y.constructor;return _?_===S||(_.displayName||_.name)==="GeneratorFunction":!1},n.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,x):(y.__proto__=x,c(y,f,"GeneratorFunction")),y.prototype=Object.create(K),y},n.awrap=function(y){return{__await:y}};function ve(y,_){function C(B,me,oe,_e){var Ne=p(y[B],y,me);if(Ne.type==="throw")_e(Ne.arg);else{var Ur=Ne.arg,yn=Ur.value;return yn&&typeof yn=="object"&&i.call(yn,"__await")?_.resolve(yn.__await).then(function(Pt){C("next",Pt,oe,_e)},function(Pt){C("throw",Pt,oe,_e)}):_.resolve(yn).then(function(Pt){Ur.value=Pt,oe(Ur)},function(Pt){return C("throw",Pt,oe,_e)})}}var D;function M(B,me){function oe(){return new _(function(_e,Ne){C(B,me,_e,Ne)})}return D=D?D.then(oe,oe):oe()}s(this,"_invoke",{value:M})}b(ve.prototype),c(ve.prototype,u,function(){return this}),n.AsyncIterator=ve,n.async=function(y,_,C,D,M){M===void 0&&(M=Promise);var B=new ve(d(y,_,C,D),M);return n.isGeneratorFunction(_)?B:B.next().then(function(me){return me.done?me.value:B.next()})};function L(y,_,C){var D=g;return function(B,me){if(D===R)throw new Error("Generator is already running");if(D===m){if(B==="throw")throw me;return N()}for(C.method=B,C.arg=me;;){var oe=C.delegate;if(oe){var _e=z(oe,C);if(_e){if(_e===h)continue;return _e}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(D===g)throw D=m,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);D=R;var Ne=p(y,_,C);if(Ne.type==="normal"){if(D=C.done?m:w,Ne.arg===h)continue;return{value:Ne.arg,done:C.done}}else Ne.type==="throw"&&(D=m,C.method="throw",C.arg=Ne.arg)}}}function z(y,_){var C=_.method,D=y.iterator[C];if(D===o)return _.delegate=null,C==="throw"&&y.iterator.return&&(_.method="return",_.arg=o,z(y,_),_.method==="throw")||C!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+C+"' method")),h;var M=p(D,y.iterator,_.arg);if(M.type==="throw")return _.method="throw",_.arg=M.arg,_.delegate=null,h;var B=M.arg;if(!B)return _.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,h;if(B.done)_[y.resultName]=B.value,_.next=y.nextLoc,_.method!=="return"&&(_.method="next",_.arg=o);else return B;return _.delegate=null,h}b(K),c(K,f,"Generator"),c(K,a,function(){return this}),c(K,"toString",function(){return"[object Generator]"});function U(y){var _={tryLoc:y[0]};1 in y&&(_.catchLoc=y[1]),2 in y&&(_.finallyLoc=y[2],_.afterLoc=y[3]),this.tryEntries.push(_)}function q(y){var _=y.completion||{};_.type="normal",delete _.arg,y.completion=_}function ae(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(U,this),this.reset(!0)}n.keys=function(y){var _=Object(y),C=[];for(var D in _)C.push(D);return C.reverse(),function M(){for(;C.length;){var B=C.pop();if(B in _)return M.value=B,M.done=!1,M}return M.done=!0,M}};function Q(y){if(y){var _=y[a];if(_)return _.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var C=-1,D=function M(){for(;++C<y.length;)if(i.call(y,C))return M.value=y[C],M.done=!1,M;return M.value=o,M.done=!0,M};return D.next=D}}return{next:N}}n.values=Q;function N(){return{value:o,done:!0}}return ae.prototype={constructor:ae,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(q),!y)for(var _ in this)_.charAt(0)==="t"&&i.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=o)},stop:function(){this.done=!0;var y=this.tryEntries[0],_=y.completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var _=this;function C(_e,Ne){return B.type="throw",B.arg=y,_.next=_e,Ne&&(_.method="next",_.arg=o),!!Ne}for(var D=this.tryEntries.length-1;D>=0;--D){var M=this.tryEntries[D],B=M.completion;if(M.tryLoc==="root")return C("end");if(M.tryLoc<=this.prev){var me=i.call(M,"catchLoc"),oe=i.call(M,"finallyLoc");if(me&&oe){if(this.prev<M.catchLoc)return C(M.catchLoc,!0);if(this.prev<M.finallyLoc)return C(M.finallyLoc)}else if(me){if(this.prev<M.catchLoc)return C(M.catchLoc,!0)}else if(oe){if(this.prev<M.finallyLoc)return C(M.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(y,_){for(var C=this.tryEntries.length-1;C>=0;--C){var D=this.tryEntries[C];if(D.tryLoc<=this.prev&&i.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var M=D;break}}M&&(y==="break"||y==="continue")&&M.tryLoc<=_&&_<=M.finallyLoc&&(M=null);var B=M?M.completion:{};return B.type=y,B.arg=_,M?(this.method="next",this.next=M.finallyLoc,h):this.complete(B)},complete:function(y,_){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&_&&(this.next=_),h},finish:function(y){for(var _=this.tryEntries.length-1;_>=0;--_){var C=this.tryEntries[_];if(C.finallyLoc===y)return this.complete(C.completion,C.afterLoc),q(C),h}},catch:function(y){for(var _=this.tryEntries.length-1;_>=0;--_){var C=this.tryEntries[_];if(C.tryLoc===y){var D=C.completion;if(D.type==="throw"){var M=D.arg;q(C)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(y,_,C){return this.delegate={iterator:Q(y),resultName:_,nextLoc:C},this.method==="next"&&(this.arg=o),h}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Py);var Gu={},rm={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.browserSupportsPolyfills=Ve.compareTwoStringsUsingDiceCoefficient=Ve.commandToRegExp=Ve.concatTranscripts=Ve.debounce=void 0;var Ay=function(e,n,r){var i;return function(){var s=this,o=arguments,l=function(){i=null,r||e.apply(s,o)},a=r&&!i;clearTimeout(i),i=setTimeout(l,n),a&&e.apply(s,o)}};Ve.debounce=Ay;var Dy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(i){return i.trim()}).join(" ").trim()};Ve.concatTranscripts=Dy;var Oy=/\s*\((.*?)\)\s*/g,Ly=/(\(\?:[^)]+\))\?/g,My=/(\(\?)?:\w+/g,by=/\*/g,Fy=/[-{}[\]+?.,\\^$|#]/g,zy=function(e){return e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace(Fy,"\\$&").replace(Oy,"(?:$1)?").replace(My,function(n,r){return r?n:"([^\\s]+)"}).replace(by,"(.*?)").replace(Ly,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i"))};Ve.commandToRegExp=zy;var Uy=function(e,n){if(e=e.replace(/\s+/g,"").toLowerCase(),n=n.replace(/\s+/g,"").toLowerCase(),!e.length&&!n.length)return 1;if(!e.length||!n.length)return 0;if(e===n)return 1;if(e.length===1&&n.length===1||e.length<2||n.length<2)return 0;for(var r=new Map,i=0;i<e.length-1;i++){var s=e.substring(i,i+2),o=r.has(s)?r.get(s)+1:1;r.set(s,o)}for(var l=0,a=0;a<n.length-1;a++){var u=n.substring(a,a+2),f=r.has(u)?r.get(u):0;f>0&&(r.set(u,f-1),l++)}return 2*l/(e.length+n.length-2)};Ve.compareTwoStringsUsingDiceCoefficient=Uy;var By=function(){return typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0)};Ve.browserSupportsPolyfills=By;var Rr={},Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.APPEND_TRANSCRIPT=Fn.CLEAR_TRANSCRIPT=void 0;var Wy="CLEAR_TRANSCRIPT";Fn.CLEAR_TRANSCRIPT=Wy;var jy="APPEND_TRANSCRIPT";Fn.APPEND_TRANSCRIPT=jy;Object.defineProperty(Rr,"__esModule",{value:!0});Rr.appendTranscript=Rr.clearTranscript=void 0;var im=Fn,$y=function(){return{type:im.CLEAR_TRANSCRIPT}};Rr.clearTranscript=$y;var Vy=function(e,n){return{type:im.APPEND_TRANSCRIPT,payload:{interimTranscript:e,finalTranscript:n}}};Rr.appendTranscript=Vy;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.transcriptReducer=void 0;var Zd=Fn,Hy=Ve,Gy=function(e,n){switch(n.type){case Zd.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case Zd.APPEND_TRANSCRIPT:return{interimTranscript:n.payload.interimTranscript,finalTranscript:(0,Hy.concatTranscripts)(e.finalTranscript,n.payload.finalTranscript)};default:throw new Error}};jo.transcriptReducer=Gy;var sm={},Qu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){return/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"")};t.default=e})(Qu);var Yu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNative=void 0;var e=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),n=function(s){return s===e};t.isNative=n;var r=e;t.default=r})(Yu);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(Qu),n=Ve,r=Yu;function i(c){return c&&c.__esModule?c:{default:c}}function s(c,d,p,g,w,R,m){try{var h=c[R](m),v=h.value}catch(S){p(S);return}h.done?d(v):Promise.resolve(v).then(g,w)}function o(c){return function(){var d=this,p=arguments;return new Promise(function(g,w){var R=c.apply(d,p);function m(v){s(R,g,w,m,h,"next",v)}function h(v){s(R,g,w,m,h,"throw",v)}m(void 0)})}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function a(c,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function u(c,d,p){return d&&a(c.prototype,d),p&&a(c,p),c}var f=function(){function c(d){l(this,c),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(d),(0,e.default)()&&(this.updateFinalTranscript=(0,n.debounce)(this.updateFinalTranscript,250,!0))}return u(c,[{key:"setSpeechRecognition",value:function(p){var g=!!p&&((0,r.isNative)(p)||(0,n.browserSupportsPolyfills)());g&&(this.disableRecognition(),this.recognition=new p,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(g)}},{key:"subscribe",value:function(p,g){this.subscribers[p]=g}},{key:"unsubscribe",value:function(p){delete this.subscribers[p]}},{key:"emitListeningChange",value:function(p){var g=this;this.listening=p,Object.keys(this.subscribers).forEach(function(w){var R=g.subscribers[w].onListeningChange;R(p)})}},{key:"emitMicrophoneAvailabilityChange",value:function(p){var g=this;this.isMicrophoneAvailable=p,Object.keys(this.subscribers).forEach(function(w){var R=g.subscribers[w].onMicrophoneAvailabilityChange;R(p)})}},{key:"emitTranscriptChange",value:function(p,g){var w=this;Object.keys(this.subscribers).forEach(function(R){var m=w.subscribers[R].onTranscriptChange;m(p,g)})}},{key:"emitClearTranscript",value:function(){var p=this;Object.keys(this.subscribers).forEach(function(g){var w=p.subscribers[g].onClearTranscript;w()})}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(p){var g=this;Object.keys(this.subscribers).forEach(function(w){var R=g.subscribers[w],m=R.onBrowserSupportsSpeechRecognitionChange,h=R.onBrowserSupportsContinuousListeningChange;m(p),h(p)})}},{key:"disconnect",value:function(p){if(this.recognition&&this.listening)switch(p){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(p){p&&p.error&&p.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(p){var g=p.results,w=p.resultIndex,R=w===void 0?g.length-1:w;this.interimTranscript="",this.finalTranscript="";for(var m=R;m<g.length;++m)g[m].isFinal&&(!(0,e.default)()||g[m][0].confidence>0)?this.updateFinalTranscript(g[m][0].transcript):this.interimTranscript=(0,n.concatTranscripts)(this.interimTranscript,g[m][0].transcript);var h=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(h=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,h||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(p){this.finalTranscript=(0,n.concatTranscripts)(this.finalTranscript,p)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:function(){var d=o(regeneratorRuntime.mark(function g(){var w,R,m,h,v,S,x=arguments;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(w=x.length>0&&x[0]!==void 0?x[0]:{},R=w.continuous,m=R===void 0?!1:R,h=w.language,this.recognition){T.next=3;break}return T.abrupt("return");case 3:if(v=m!==this.recognition.continuous,S=h&&h!==this.recognition.lang,!(v||S)){T.next=11;break}if(!this.listening){T.next=9;break}return T.next=9,this.stopListening();case 9:this.recognition.continuous=v?m:this.recognition.continuous,this.recognition.lang=S?h:this.recognition.lang;case 11:if(this.listening){T.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),T.prev=13,T.next=16,this.start();case 16:this.emitListeningChange(!0),T.next=22;break;case 19:T.prev=19,T.t0=T.catch(13),T.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return T.stop()}},g,this,[[13,19]])}));function p(){return d.apply(this,arguments)}return p}()},{key:"abortListening",value:function(){var d=o(regeneratorRuntime.mark(function g(){var w=this;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),m.next=4,new Promise(function(h){w.onStopListening=h});case 4:case"end":return m.stop()}},g,this)}));function p(){return d.apply(this,arguments)}return p}()},{key:"stopListening",value:function(){var d=o(regeneratorRuntime.mark(function g(){var w=this;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),m.next=4,new Promise(function(h){w.onStopListening=h});case 4:case"end":return m.stop()}},g,this)}));function p(){return d.apply(this,arguments)}return p}()},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:function(){var d=o(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!(this.recognition&&!this.listening)){R.next=4;break}return R.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return R.stop()}},g,this)}));function p(){return d.apply(this,arguments)}return p}()},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}]),c}();t.default=f})(sm);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useSpeechRecognition=void 0;var e=Y.exports,n=Ve,r=Rr,i=jo,s=a(sm),o=a(Qu),l=a(Yu);function a(L){return L&&L.__esModule?L:{default:L}}function u(L,z,U,q,ae,Q,N){try{var y=L[Q](N),_=y.value}catch(C){U(C);return}y.done?z(_):Promise.resolve(_).then(q,ae)}function f(L){return function(){var z=this,U=arguments;return new Promise(function(q,ae){var Q=L.apply(z,U);function N(_){u(Q,q,ae,N,y,"next",_)}function y(_){u(Q,q,ae,N,y,"throw",_)}N(void 0)})}}function c(L){return g(L)||p(L)||h(L)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(L){if(typeof Symbol<"u"&&Symbol.iterator in Object(L))return Array.from(L)}function g(L){if(Array.isArray(L))return v(L)}function w(L){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(U){return typeof U}:w=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},w(L)}function R(L,z){return x(L)||S(L,z)||h(L,z)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(L,z){if(!!L){if(typeof L=="string")return v(L,z);var U=Object.prototype.toString.call(L).slice(8,-1);if(U==="Object"&&L.constructor&&(U=L.constructor.name),U==="Map"||U==="Set")return Array.from(L);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return v(L,z)}}function v(L,z){(z==null||z>L.length)&&(z=L.length);for(var U=0,q=new Array(z);U<z;U++)q[U]=L[U];return q}function S(L,z){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(L)))){var U=[],q=!0,ae=!1,Q=void 0;try{for(var N=L[Symbol.iterator](),y;!(q=(y=N.next()).done)&&(U.push(y.value),!(z&&U.length===z));q=!0);}catch(_){ae=!0,Q=_}finally{try{!q&&N.return!=null&&N.return()}finally{if(ae)throw Q}}return U}}function x(L){if(Array.isArray(L))return L}var A=!!l.default,T=A&&!(0,o.default)(),P,K=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=z.transcribing,q=U===void 0?!0:U,ae=z.clearTranscriptOnListen,Q=ae===void 0?!0:ae,N=z.commands,y=N===void 0?[]:N,_=(0,e.useState)(b.getRecognitionManager()),C=R(_,1),D=C[0],M=(0,e.useState)(A),B=R(M,2),me=B[0],oe=B[1],_e=(0,e.useState)(T),Ne=R(_e,2),Ur=Ne[0],yn=Ne[1],Pt=(0,e.useReducer)(i.transcriptReducer,{interimTranscript:D.interimTranscript,finalTranscript:""}),Rc=R(Pt,2),xc=Rc[0],Pc=xc.interimTranscript,Ac=xc.finalTranscript,Dc=Rc[1],zg=(0,e.useState)(D.listening),Oc=R(zg,2),Ug=Oc[0],Bg=Oc[1],Wg=(0,e.useState)(D.isMicrophoneAvailable),Lc=R(Wg,2),jg=Lc[0],$g=Lc[1],Mc=(0,e.useRef)(y);Mc.current=y;var bc=function(){Dc((0,r.clearTranscript)())},Br=(0,e.useCallback)(function(){D.resetTranscript(),bc()},[D]),Vg=function(ze,kt,wn){var Gt=w(ze)==="object"?ze.toString():ze,Wr=Gt.replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),ns=(0,n.compareTwoStringsUsingDiceCoefficient)(Wr,kt);return ns>=wn?{command:ze,commandWithoutSpecials:Wr,howSimilar:ns,isFuzzyMatch:!0}:null},Hg=function(ze,kt){var wn=(0,n.commandToRegExp)(ze),Gt=wn.exec(kt);return Gt?{command:ze,parameters:Gt.slice(1)}:null},Fc=(0,e.useCallback)(function(Et,ze){Mc.current.forEach(function(kt){var wn=kt.command,Gt=kt.callback,Wr=kt.matchInterim,ns=Wr===void 0?!1:Wr,Bc=kt.isFuzzyMatch,Wc=Bc===void 0?!1:Bc,jc=kt.fuzzyMatchingThreshold,Qg=jc===void 0?.8:jc,$c=kt.bestMatchOnly,Yg=$c===void 0?!1:$c,rs=!ze&&ns?Et.trim():ze.trim(),Kg=Array.isArray(wn)?wn:[wn],is=Kg.map(function(Je){return Wc?Vg(Je,rs,Qg):Hg(Je,rs)}).filter(function(Je){return Je});if(Wc&&Yg&&is.length>=2){is.sort(function(Je,Zo){return Zo.howSimilar-Je.howSimilar});var Jo=is[0],qg=Jo.command,Xg=Jo.commandWithoutSpecials,Jg=Jo.howSimilar;Gt(Xg,rs,Jg,{command:qg,resetTranscript:Br})}else is.forEach(function(Je){if(Je.isFuzzyMatch){var Zo=Je.command,Zg=Je.commandWithoutSpecials,ev=Je.howSimilar;Gt(Zg,rs,ev,{command:Zo,resetTranscript:Br})}else{var tv=Je.command,nv=Je.parameters;Gt.apply(void 0,c(nv).concat([{command:tv,resetTranscript:Br}]))}})})},[Br]),zc=(0,e.useCallback)(function(Et,ze){q&&Dc((0,r.appendTranscript)(Et,ze)),Fc(Et,ze)},[Fc,q]),Uc=(0,e.useCallback)(function(){Q&&bc()},[Q]);(0,e.useEffect)(function(){var Et=b.counter;b.counter+=1;var ze={onListeningChange:Bg,onMicrophoneAvailabilityChange:$g,onTranscriptChange:zc,onClearTranscript:Uc,onBrowserSupportsSpeechRecognitionChange:oe,onBrowserSupportsContinuousListeningChange:yn};return D.subscribe(Et,ze),function(){D.unsubscribe(Et)}},[q,Q,D,zc,Uc]);var Gg=(0,n.concatTranscripts)(Ac,Pc);return{transcript:Gg,interimTranscript:Pc,finalTranscript:Ac,listening:Ug,isMicrophoneAvailable:jg,resetTranscript:Br,browserSupportsSpeechRecognition:me,browserSupportsContinuousListening:Ur}};t.useSpeechRecognition=K;var b={counter:0,applyPolyfill:function(z){P?P.setSpeechRecognition(z):P=new s.default(z);var U=!!z&&(0,n.browserSupportsPolyfills)();A=U,T=U},removePolyfill:function(){P?P.setSpeechRecognition(l.default):P=new s.default(l.default),A=!!l.default,T=A&&!(0,o.default)()},getRecognitionManager:function(){return P||(P=new s.default(l.default)),P},getRecognition:function(){var z=b.getRecognitionManager();return z.getRecognition()},startListening:function(){var L=f(regeneratorRuntime.mark(function U(){var q,ae,Q,N,y=arguments;return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return q=y.length>0&&y[0]!==void 0?y[0]:{},ae=q.continuous,Q=q.language,N=b.getRecognitionManager(),C.next=4,N.startListening({continuous:ae,language:Q});case 4:case"end":return C.stop()}},U)}));function z(){return L.apply(this,arguments)}return z}(),stopListening:function(){var L=f(regeneratorRuntime.mark(function U(){var q;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return q=b.getRecognitionManager(),Q.next=3,q.stopListening();case 3:case"end":return Q.stop()}},U)}));function z(){return L.apply(this,arguments)}return z}(),abortListening:function(){var L=f(regeneratorRuntime.mark(function U(){var q;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return q=b.getRecognitionManager(),Q.next=3,q.abortListening();case 3:case"end":return Q.stop()}},U)}));function z(){return L.apply(this,arguments)}return z}(),browserSupportsSpeechRecognition:function(){return A},browserSupportsContinuousListening:function(){return T}},ve=b;t.default=ve})(rm);(function(t){function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(a){return typeof a}:e=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e(o)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useSpeechRecognition",{enumerable:!0,get:function(){return n.useSpeechRecognition}}),t.default=void 0;var n=i(rm);function r(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return r=function(){return o},o}function i(o){if(o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var l=r();if(l&&l.has(o))return l.get(o);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in o)if(Object.prototype.hasOwnProperty.call(o,f)){var c=u?Object.getOwnPropertyDescriptor(o,f):null;c&&(c.get||c.set)?Object.defineProperty(a,f,c):a[f]=o[f]}return a.default=o,l&&l.set(o,a),a}var s=n.default;t.default=s})(Gu);const ef=Gf(Gu);function Qy(){const t=Y.exports.useContext(Wo),[e,n]=Y.exports.useState(null);function r({text:u,volume:f,lang:c,rate:d,pitch:p,voice:g}){e.text=u,e.volume=f/100||1,e.lang=c||"en-IN",e.rate=d||1,e.pitch=p||1,g&&(e.voice=g||speechSynthesis.getVoices()[13]),speechSynthesis.speak(e)}Y.exports.useEffect(()=>{if("speechSynthesis"in window){const u=new SpeechSynthesisUtterance;u.lang="en-IN",u.text="Hello !",u.rate=1,u.voice=speechSynthesis.getVoices()[13],speechSynthesis.speak(u),n(u)}},[]);const i=[{command:"play (the) (song) *",callback:async(u,...f)=>{console.log(u,f);const c=await t.search(u);r({text:"Playing "+c.tracks.items[0].name+" by "+c.tracks.items[0].artists[0].name}),await t.playSong(c.tracks.items[0]),l()},isFuzzyMatch:!0,fuzzyMatchingThreshold:.4,bestMatchOnly:!0},{command:"play (the) (song) * (by) (artist) (from album) (from) *",callback:async(u,f,...c)=>{console.log(u,f,c);const d=await t.search(u+" "+f);r({text:"Playing "+d.tracks.items[0].name+" by "+d.tracks.items[0].artists[0].name}),await t.playSong(d.tracks.items[0]),l()}},{command:["show controls","so controls","more controls","show next button","show volume","controls"],callback:({resetTranscript:u})=>{t.setHeight(160),u()}},{command:["hide controls","hide next button","hide volume","hide control","height control","height controls"],callback:({resetTranscript:u})=>{t.setHeight(112),u()}},{command:["stop","start","resume","go back","previous song","continue","pause","next","skip","skip next","play next","change","change song","another song","previous","volume up","volume down","volume mute","volume unmute","mute","unmute","increase volume","decrease volume","volume increase","volume decrease","lower volume","raise volume","volume lower","volume raise","quite","louder","quiet","loud","volume quite","volume louder","volume quiet","volume loud","quieter","silent","volume quieter","volume silent","volume quieter","volume silent","volume quieter"],callback:({command:u,resetTranscript:f})=>{console.log("executed ",u);let c=0;switch(u){case"resume":case"continue":case"pause":case"stop":case"start":t.togglePlay(),r({text:"Resuming"});break;case"next":case"skip":case"skip next":case"play next":case"change":case"change song":case"another song":r({text:"Playing next song"}),t.next();break;case"previous":case"go back":case"previous song":r({text:"Playing previous song"}),t.prev();break;case"volume up":case"volume increase":case"increase volume":case"raise volume":case"volume raise":case"louder":case"volume louder":c=parseInt(t.volumeRef.current.value),c+32<255?c+=32:c=255,t.volumeRef.current.value=c,t.changeVolume({target:{value:c}}),r(c===255?{text:"Volume is at maximum",volume:100,lang:"en-IN",rate:1,pitch:1}:{text:"Volume is at "+c,volume:100,lang:"en-IN",rate:1,pitch:1});break;case"volume down":case"volume decrease":case"decrease volume":case"lower volume":case"volume lower":case"quieter":case"volume quieter":c=parseInt(t.volumeRef.current.value),c-32>0?c-=32:c=0,t.volumeRef.current.value=c,t.changeVolume({target:{value:c}}),r(c===0?{text:"Volume is at minimum",volume:100,lang:"en-IN",rate:1,pitch:1}:{text:"Volume is at "+c,volume:100,lang:"en-IN",rate:1,pitch:1});break;case"volume mute":case"mute":case"quiet":case"volume quiet":case"quite":case"volume quite":case"silent":case"volume silent":t.volumeRef.current.value=0,t.changeVolume({target:{value:0}});break;case"volume unmute":case"unmute":case"loud":case"volume loud":t.volumeRef.current.value=255,t.changeVolume({target:{value:255}}),r({text:"Volume is at maximum",volume:100,lang:"en-IN",rate:1,pitch:1});break}f()}},{command:"(set) volume (to) :value (percent)",callback:(u,...f)=>{const c=parseInt(u.match(/\d+/)[0])/100,d=c*255;t.volumeRef.current.value=d,t.changeVolume({target:{value:d}}),r({text:"Volume is at "+c*100+" percent.",volume:100,lang:"en-IN",rate:1,pitch:1}),l()},bestMatchOnly:!0},{command:["search *","search for *","search for the song *","search for the song by *","search for song by *","search for * by *","search for the song * by *","search for song * by *"],callback:(u,f,...c)=>{console.log(u,f,c)}},{command:"clear",callback:({resetTranscript:u})=>u()},{command:["well done","good job","nice","awesome","great","good","cool","nice job","good work","very good"],callback:()=>r({text:"Thank you chutiya",volume:100,lang:"HI",rate:1,pitch:1})},{command:["chutiya","bhosdike","madarchod","gadha","chutiya hai tu","bhosdike hai tu","madarchod hai tu","gadha hai tu","chutiya hai tum","bhosdike hai tum","madarchod hai tum","gadha hai tum","chutiya hai","bhosdike hai","madarchod hai","gadha hai","sala"],callback:()=>r({text:"jaadey mat bol BC",volume:100,lang:"HI",rate:1,pitch:1})}],{transcript:s,listening:o,resetTranscript:l,browserSupportsSpeechRecognition:a}=Gu.useSpeechRecognition({commands:i});return Y.exports.useEffect(()=>{s!==""&&console.log(s)},[s]),k("div",{className:"playArrow",style:{height:"48px",width:"48px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"var(--container)",borderRadius:16},children:k("span",{className:"material-icons-outlined",style:{fontSize:32,color:a?o?"blue":"green":"red"},onClick:()=>{a&&(o?ef.stopListening():ef.startListening({continuous:!0,language:"en-IN"}))},children:"mic"})})}function Yy(){const[t,e]=Y.exports.useState(!1),n=Y.exports.useRef(null),[r,i]=Y.exports.useState({}),[s,o]=Y.exports.useState(!1),[l,a]=Y.exports.useState(new AbortController),u=Y.exports.useRef(null),f=Y.exports.useCallback(xy.debounce(()=>{c(n.current.value)},500),[]);function c(p){p.length!==0&&(s&&l.abort(),o(!0),xe({path:"search/"+encodeURI(p),options:{signal:l.signal}}).then(g=>g.json()).then(g=>{o(!1),i(g),console.log(g)}))}function d(p){xe({path:"play",options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({track:p})}}).then(g=>g.json()).then(g=>{console.log(g),e(!1)})}return H(Pa,{children:[k("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"64px",backgroundColor:"var(--bg)",zIndex:99,opacity:.9}}),H("nav",{className:"topNav",style:{position:"fixed",width:360,display:"flex",height:"48px",flexDirection:"row",justifyContent:"space-between",zIndex:100},children:[k(Qy,{}),k("div",{className:"appTitle",ref:u,style:{fontsize:"large",fontWeight:"bold",alignContent:"center",fontSize:24,display:"flex",alignItems:"center",justifyContent:"center",fontVariant:"small-caps",tectSpacing:"0.5em"},children:"Rokers"}),k("div",{className:"playArrow",style:{height:"48px",width:"48px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"var(--container)",borderRadius:16},onClick:()=>{e(!t),setTimeout(()=>{t||n.current.focus()},100)},children:k("span",{className:"material-icons-outlined",style:{fontSize:32},children:"search"})})]}),t&&H(Pa,{children:[k("div",{className:"cover",onClick:()=>e(!1)}),H("div",{className:"search",children:[H("div",{className:"searchBox",children:[k("input",{type:"text",ref:n,placeholder:"Search",onKeyDown:p=>{p.key==="Enter"&&c(n.current.value),p.key.match(/^[a-z0-9]+$/i)&&f()}}),k("span",{className:"material-icons-outlined",style:{fontSize:32},onClick:()=>{n.current.value.length>0?n.current.value="":e(!1)},children:"close"})]}),k("hr",{}),H("div",{className:"searchResults",children:[r.tracks&&r.tracks.items.map((p,g)=>H("div",{className:"searchResult",children:[H("div",{className:"coverPhoto",children:[k("img",{className:"actual",src:p.album.images[p.album.images.length-1].url,alt:"AlbumArt"}),k("img",{className:"reflection",src:p.album.images[p.album.images.length-1].url,alt:"AlbumArt"})]}),H("div",{className:"info",children:[k("div",{className:"title",children:p.name.length>30?p.name.substring(0,30)+" ...":p.name}),H("div",{className:"aa",children:[k("div",{className:"artist",children:p.artists.map(w=>w.name).join(", ").substring(0,15)}),H("div",{className:"album",children:[" ",p.album.name.substring(0,15)]})]})]}),k("div",{className:"playArrow playButton",onClick:()=>{d(p)},children:k("span",{className:"material-icons-outlined",style:{fontSize:32},children:"play_arrow"})})]},g)),!r.tracks&&k("center",{children:"Search for something"}),r.tracks&&r.tracks.items.length===0&&k("center",{children:"No results found"})]})]})]}),k("div",{style:{height:"36px"}})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=function(t,e){if(!t)throw br(e)},br=function(t){return new Error("Firebase Database ("+om.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ky=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ku={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,f=s>>2,c=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,p=u&63;a||(p=64,o||(d=64)),r.push(n[f],n[c],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ky(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw Error();const d=s<<2|l>>4;if(r.push(d),u!==64){const p=l<<4&240|u>>2;if(r.push(p),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},am=function(t){const e=lm(t);return Ku.encodeByteArray(e,!0)},oo=function(t){return am(t).replace(/\./g,"")},Da=function(t){try{return Ku.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){return um(void 0,t)}function um(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Xy(n)||(t[n]=um(t[n],e[n]));return t}function Xy(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=()=>Jy().__FIREBASE_DEFAULTS__,e0=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Da(t[1]);return e&&JSON.parse(e)},cm=()=>{try{return Zy()||e0()||t0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n0=t=>{var e,n;return(n=(e=cm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r0=t=>{const e=n0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i0=()=>{var t;return(t=cm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[oo(JSON.stringify(n)),oo(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o0())}function l0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fm(){return om.NODE_ADMIN===!0}function a0(){try{return typeof indexedDB=="object"}catch{return!1}}function u0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="FirebaseError";class Ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c0,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hm.prototype.create)}}class hm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?d0(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ki(i,l,r)}}function d0(t,e){return t.replace(f0,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const f0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){return JSON.parse(t)}function Te(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Li(Da(s[0])||""),n=Li(Da(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},h0=function(t){const e=pm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},p0=function(t){const e=pm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function tf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Oa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(nf(s)&&nf(o)){if(!Oa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),f=1518500249):(u=s^o^l,f=1859775393):c<60?(u=s&o|l&(s|o),f=2400959708):(u=s^o^l,f=3395469782);const d=(i<<5|i>>>27)+u+a+f+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function mm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,I(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$o=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w0(e))try{this.getOrInitializeService({instanceIdentifier:En})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=En){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=En){return this.instances.has(e)}getOptions(e=En){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=En){return this.component?this.component.multipleInstances?e:En:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y0(t){return t===En?void 0:t}function w0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const C0={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},E0=ee.INFO,k0={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},T0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k0[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gm{constructor(e){this.name=e,this._logLevel=E0,this._logHandler=T0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const I0=(t,e)=>e.some(n=>t instanceof n);let rf,sf;function N0(){return rf||(rf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R0(){return sf||(sf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vm=new WeakMap,La=new WeakMap,_m=new WeakMap,Il=new WeakMap,Xu=new WeakMap;function x0(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(un(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vm.set(n,t)}).catch(()=>{}),Xu.set(e,t),e}function P0(t){if(La.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});La.set(t,e)}let Ma={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return La.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_m.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A0(t){Ma=t(Ma)}function D0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nl(this),e,...n);return _m.set(r,e.sort?e.sort():[e]),un(r)}:R0().includes(t)?function(...e){return t.apply(Nl(this),e),un(vm.get(this))}:function(...e){return un(t.apply(Nl(this),e))}}function O0(t){return typeof t=="function"?D0(t):(t instanceof IDBTransaction&&P0(t),I0(t,N0())?new Proxy(t,Ma):t)}function un(t){if(t instanceof IDBRequest)return x0(t);if(Il.has(t))return Il.get(t);const e=O0(t);return e!==t&&(Il.set(t,e),Xu.set(e,t)),e}const Nl=t=>Xu.get(t);function L0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=un(o);return r&&o.addEventListener("upgradeneeded",a=>{r(un(o.result),a.oldVersion,a.newVersion,un(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const M0=["get","getKey","getAll","getAllKeys","count"],b0=["put","add","delete","clear"],Rl=new Map;function of(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rl.get(e))return Rl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||M0.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Rl.set(e,s),s}A0(t=>({...t,get:(e,n,r)=>of(e,n)||t.get(e,n,r),has:(e,n)=>!!of(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ba="@firebase/app",lf="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new gm("@firebase/app"),U0="@firebase/app-compat",B0="@firebase/analytics-compat",W0="@firebase/analytics",j0="@firebase/app-check-compat",$0="@firebase/app-check",V0="@firebase/auth",H0="@firebase/auth-compat",G0="@firebase/database",Q0="@firebase/database-compat",Y0="@firebase/functions",K0="@firebase/functions-compat",q0="@firebase/installations",X0="@firebase/installations-compat",J0="@firebase/messaging",Z0="@firebase/messaging-compat",ew="@firebase/performance",tw="@firebase/performance-compat",nw="@firebase/remote-config",rw="@firebase/remote-config-compat",iw="@firebase/storage",sw="@firebase/storage-compat",ow="@firebase/firestore",lw="@firebase/firestore-compat",aw="firebase",uw="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]",cw={[ba]:"fire-core",[U0]:"fire-core-compat",[W0]:"fire-analytics",[B0]:"fire-analytics-compat",[$0]:"fire-app-check",[j0]:"fire-app-check-compat",[V0]:"fire-auth",[H0]:"fire-auth-compat",[G0]:"fire-rtdb",[Q0]:"fire-rtdb-compat",[Y0]:"fire-fn",[K0]:"fire-fn-compat",[q0]:"fire-iid",[X0]:"fire-iid-compat",[J0]:"fire-fcm",[Z0]:"fire-fcm-compat",[ew]:"fire-perf",[tw]:"fire-perf-compat",[nw]:"fire-rc",[rw]:"fire-rc-compat",[iw]:"fire-gcs",[sw]:"fire-gcs-compat",[ow]:"fire-fst",[lw]:"fire-fst-compat","fire-js":"fire-js",[aw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Map,za=new Map;function dw(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(za.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;za.set(e,t);for(const n of ao.values())dw(n,t);return!0}function fw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cn=new hm("app","Firebase",hw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=uw;function ym(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cn.create("bad-app-name",{appName:String(i)});if(n||(n=i0()),!n)throw cn.create("no-options");const s=ao.get(i);if(s){if(Oa(n,s.options)&&Oa(r,s.config))return s;throw cn.create("duplicate-app",{appName:i})}const o=new S0(i);for(const a of za.values())o.addComponent(a);const l=new pw(n,r,o);return ao.set(i,l),l}function gw(t=Fa){const e=ao.get(t);if(!e&&t===Fa)return ym();if(!e)throw cn.create("no-app",{appName:t});return e}function gr(t,e,n){var r;let i=(r=cw[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(l.join(" "));return}uo(new Mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firebase-heartbeat-database",_w=1,bi="firebase-heartbeat-store";let xl=null;function wm(){return xl||(xl=L0(vw,_w,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bi)}}}).catch(t=>{throw cn.create("idb-open",{originalErrorMessage:t.message})})),xl}async function yw(t){try{return(await wm()).transaction(bi).objectStore(bi).get(Sm(t))}catch(e){if(e instanceof Ki)zn.warn(e.message);else{const n=cn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zn.warn(n.message)}}}async function af(t,e){try{const r=(await wm()).transaction(bi,"readwrite");return await r.objectStore(bi).put(e,Sm(t)),r.done}catch(n){if(n instanceof Ki)zn.warn(n.message);else{const r=cn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(r.message)}}}function Sm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1024,Sw=30*24*60*60*1e3;class Cw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Sw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uf(),{heartbeatsToSend:n,unsentEntries:r}=Ew(this._heartbeatsCache.heartbeats),i=oo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function uf(){return new Date().toISOString().substring(0,10)}function Ew(t,e=ww){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cf(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a0()?u0().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await yw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return af(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return af(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cf(t){return oo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){uo(new Mi("platform-logger",e=>new F0(e),"PRIVATE")),uo(new Mi("heartbeat",e=>new Cw(e),"PRIVATE")),gr(ba,lf,t),gr(ba,lf,"esm2017"),gr("fire-js","")}Tw("");const df="@firebase/database",ff="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm="";function Iw(t){Cm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Te(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Li(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Vt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nw(e)}}catch{}return new Rw},Rn=Em("localStorage"),Ua=Em("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new gm("@firebase/database"),xw=function(){let t=1;return function(){return t++}}(),km=function(t){const e=v0(t),n=new g0;n.update(e);const r=n.digest();return Ku.encodeByteArray(r)},qi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=qi.apply(null,r):typeof r=="object"?e+=Te(r):e+=r,e+=" "}return e};let An=null,hf=!0;const Pw=function(t,e){I(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(vr.logLevel=ee.VERBOSE,An=vr.log.bind(vr),e&&Ua.set("logging_enabled",!0)):typeof t=="function"?An=t:(An=null,Ua.remove("logging_enabled"))},Me=function(...t){if(hf===!0&&(hf=!1,An===null&&Ua.get("logging_enabled")===!0&&Pw(!0)),An){const e=qi.apply(null,t);An(e)}},Xi=function(t){return function(...e){Me(t,...e)}},Ba=function(...t){const e="FIREBASE INTERNAL ERROR: "+qi(...t);vr.error(e)},jt=function(...t){const e=`FIREBASE FATAL ERROR: ${qi(...t)}`;throw vr.error(e),new Error(e)},nt=function(...t){const e="FIREBASE WARNING: "+qi(...t);vr.warn(e)},Aw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Tm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Dw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Pr="[MIN_NAME]",Un="[MAX_NAME]",Fr=function(t,e){if(t===e)return 0;if(t===Pr||e===Un)return-1;if(e===Pr||t===Un)return 1;{const n=pf(t),r=pf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ow=function(t,e){return t===e?0:t<e?-1:1},qr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Te(e))},Ju=function(t){if(typeof t!="object"||t===null)return Te(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Te(e[r]),n+=":",n+=Ju(t[e[r]]);return n+="}",n},Im=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Nm=function(t){I(!Tm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(a=0;a<64;a+=8){let d=parseInt(f.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},Lw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Mw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Fw=new RegExp("^-?(0*)\\d{1,10}$"),zw=-2147483648,Uw=2147483647,pf=function(t){if(Fw.test(t)){const e=Number(t);if(e>=zw&&e<=Uw)return e}return null},Ji=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Bw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}}class _r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_r.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="5",Rm="v",xm="s",Pm="r",Am="f",Dm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Om="ls",Lm="p",Wa="ac",Mm="websocket",bm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i,s=!1,o="",l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function $w(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zm(t,e,n){I(typeof e=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");let r;if(e===Mm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$w(t)&&(n.ns=t.namespace);const i=[];return Xe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.counters_={}}incrementCounter(e,n=1){Vt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return qy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl={},Al={};function ec(t){const e=t.toString();return Pl[e]||(Pl[e]=new Vw),Pl[e]}function Hw(t,e){const n=t.toString();return Al[n]||(Al[n]=e()),Al[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ji(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="start",Qw="close",Yw="pLPCommand",Kw="pRTLPCB",Um="id",Bm="pw",Wm="ser",qw="cb",Xw="seg",Jw="ts",Zw="d",eS="dframe",jm=1870,$m=30,tS=jm-$m,nS=25e3,rS=3e4;class lr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xi(e),this.stats_=ec(n),this.urlFn=a=>(this.appCheckToken&&(a[Wa]=this.appCheckToken),zm(n,bm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Gw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rS)),Dw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tc((...s)=>{const[o,l,a,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===mf)this.id=l,this.password=a;else if(o===Qw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[mf]="t",r[Wm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[qw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Rm]=Zu,this.transportSessionId&&(r[xm]=this.transportSessionId),this.lastSessionId&&(r[Om]=this.lastSessionId),this.applicationId&&(r[Lm]=this.applicationId),this.appCheckToken&&(r[Wa]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dm.test(location.hostname)&&(r[Pm]=Am);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lr.forceAllow_=!0}static forceDisallow(){lr.forceDisallow_=!0}static isAvailable(){return lr.forceAllow_?!0:!lr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Lw()&&!Mw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Te(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=am(n),i=Im(r,tS);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[eS]="t",r[Um]=e,r[Bm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Te(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xw(),window[Yw+this.uniqueCallbackIdentifier]=e,window[Kw+this.uniqueCallbackIdentifier]=n,this.myIFrame=tc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Me("frame writing exception"),l.stack&&Me(l.stack),Me(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Me("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Um]=this.myID,e[Bm]=this.myPW,e[Wm]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$m+r.length<=jm;){const o=this.pendingSegs.shift();r=r+"&"+Xw+i+"="+o.seg+"&"+Jw+i+"="+o.ts+"&"+Zw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(nS)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Me("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=16384,sS=45e3;let co=null;typeof MozWebSocket<"u"?co=MozWebSocket:typeof WebSocket<"u"&&(co=WebSocket);class gt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xi(this.connId),this.stats_=ec(n),this.connURL=gt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Rm]=Zu,typeof location<"u"&&location.hostname&&Dm.test(location.hostname)&&(o[Pm]=Am),n&&(o[xm]=n),r&&(o[Om]=r),i&&(o[Wa]=i),s&&(o[Lm]=s),zm(e,Mm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rn.set("previous_websocket_failure",!0);try{let r;fm(),this.mySock=new co(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){gt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&co!==null&&!gt.forceDisallow_}static previouslyFailed(){return Rn.isInMemoryStorage||Rn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Li(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(I(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Te(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Im(n,iS);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sS))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gt.responsesRequiredToBeHealthy=2;gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[lr,gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=gt&&gt.isAvailable();let r=n&&!gt.previouslyFailed();if(e.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[gt];else{const i=this.transports_=[];for(const s of Fi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Fi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=6e4,lS=5e3,aS=10*1024,uS=100*1024,Dl="t",gf="d",cS="s",vf="r",dS="e",_f="o",yf="a",wf="n",Sf="p",fS="h";class hS{constructor(e,n,r,i,s,o,l,a,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xi("c:"+this.id+":"),this.transportManager_=new Fi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=hi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dl in e){const n=e[Dl];n===yf?this.upgradeIfSecondaryHealthy_():n===vf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_f&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=qr("t",e),r=qr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Sf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:yf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=qr("t",e),r=qr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=qr(Dl,e);if(gf in e){const r=e[gf];if(n===fS)this.onHandshake_(r);else if(n===wf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===cS?this.onConnectionShutdown_(r):n===vf?this.onReset_(r):n===dS?Ba("Server Error: "+r):n===_f?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ba("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Zu!==r&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Sf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){I(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Hm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fo}getInitialEvent(e){return I(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=32,Ef=768;class Z{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function X(){return new Z("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pn(t){return t.pieces_.length-t.pieceNum_}function te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Z(t.pieces_,e)}function Gm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Qm(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ym(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Z(e,0)}function we(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Z)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function $(t){return t.pieceNum_>=t.pieces_.length}function Ge(t,e){const n=j(t),r=j(e);if(n===null)return e;if(n===r)return Ge(te(t),te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nc(t,e){if(pn(t)!==pn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function vt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pn(t)>pn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class mS{constructor(e,n){this.errorPrefix_=n,this.parts_=Qm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$o(this.parts_[r]);Km(this)}}function gS(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$o(e),Km(t)}function vS(t){const e=t.parts_.pop();t.byteLength_-=$o(e),t.parts_.length>0&&(t.byteLength_-=1)}function Km(t){if(t.byteLength_>Ef)throw new Error(t.errorPrefix_+"has a key path longer than "+Ef+" bytes ("+t.byteLength_+").");if(t.parts_.length>Cf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cf+") or object contains a cycle "+kn(t))}function kn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Hm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new rc}getInitialEvent(e){return I(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=1e3,_S=60*5*1e3,kf=30*1e3,yS=1.3,wS=3e4,SS="server_kill",Tf=3;class Ft extends Vm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Ft.nextPersistentConnectionId_++,this.log_=Xi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xr,this.maxReconnectDelay_=_S,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!fm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Te(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new qu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Ft.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Vt(e,"w")){const r=xr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||p0(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=h0(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Te(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ba("Unrecognized action received from server: "+Te(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wS&&(this.reconnectDelay_=Xr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ft.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){I(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,l=new hS(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{nt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(SS)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&nt(c),a())}}}interrupt(e){Me("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Me("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tf(this.interruptReasons_)&&(this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Ju(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Z(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Me("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Tf&&(this.reconnectDelay_=kf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Me("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Tf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Cm.replace(/\./g,"-")]=1,dm()?e["framework.cordova"]=1:l0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fo.getInstance().currentlyOnline();return tf(this.interruptReasons_)&&e}}Ft.nextPersistentConnectionId_=0;Ft.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new W(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new W(Pr,e),i=new W(Pr,n);return this.compare(r,i)!==0}minPost(){return W.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs;class qm extends Ho{static get __EMPTY_NODE(){return Cs}static set __EMPTY_NODE(e){Cs=e}compare(e,n){return Fr(e.name,n.name)}isDefinedOn(e){throw br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return W.MIN}maxPost(){return new W(Un,Cs)}makePost(e,n){return I(typeof e=="string","KeyIndex indexValue must always be a string."),new W(e,Cs)}toString(){return".key"}}const yr=new qm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:ke.RED,this.left=i!=null?i:Qe.EMPTY_NODE,this.right=s!=null?s:Qe.EMPTY_NODE}copy(e,n,r,i,s){return new ke(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Qe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ke.RED=!0;ke.BLACK=!1;class CS{copy(e,n,r,i,s){return this}insert(e,n,r){return new ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qe{constructor(e,n=Qe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Qe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ke.BLACK,null,null))}remove(e){return new Qe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Es(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Es(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Es(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Es(this.root_,null,this.comparator_,!0,e)}}Qe.EMPTY_NODE=new CS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){return Fr(t.name,e.name)}function ic(t,e){return Fr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja;function kS(t){ja=t}const Xm=function(t){return typeof t=="number"?"number:"+Nm(t):"string:"+t},Jm=function(t){if(t.isLeafNode()){const e=t.val();I(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Vt(e,".sv"),"Priority must be a string or number.")}else I(t===ja||t.isEmpty(),"priority of unexpected type.");I(t===ja||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;class Ce{constructor(e,n=Ce.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Jm(this.priorityNode_)}static set __childrenNodeConstructor(e){If=e}static get __childrenNodeConstructor(){return If}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ce(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $(e)?this:j(e)===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ce.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=j(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||pn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ce.__childrenNodeConstructor.EMPTY_NODE.updateChild(te(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Nm(this.value_):e+=this.value_,this.lazyHash_=km(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ce.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ce.__childrenNodeConstructor?-1:(I(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ce.VALUE_TYPE_ORDER.indexOf(n),s=Ce.VALUE_TYPE_ORDER.indexOf(r);return I(i>=0,"Unknown leaf type: "+n),I(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ce.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm,eg;function TS(t){Zm=t}function IS(t){eg=t}class NS extends Ho{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Fr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(Un,new Ce("[PRIORITY-POST]",eg))}makePost(e,n){const r=Zm(e);return new W(n,new Ce("[PRIORITY-POST]",r))}toString(){return".priority"}}const he=new NS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=Math.log(2);class xS{constructor(e){const n=s=>parseInt(Math.log(s)/RS,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ho=function(t,e,n,r){t.sort(e);const i=function(a,u){const f=u-a;let c,d;if(f===0)return null;if(f===1)return c=t[a],d=n?n(c):c,new ke(d,c.node,ke.BLACK,null,null);{const p=parseInt(f/2,10)+a,g=i(a,p),w=i(p+1,u);return c=t[p],d=n?n(c):c,new ke(d,c.node,ke.BLACK,g,w)}},s=function(a){let u=null,f=null,c=t.length;const d=function(g,w){const R=c-g,m=c;c-=g;const h=i(R+1,m),v=t[R],S=n?n(v):v;p(new ke(S,v.node,w,null,h))},p=function(g){u?(u.left=g,u=g):(f=g,u=g)};for(let g=0;g<a.count;++g){const w=a.nextBitIsOne(),R=Math.pow(2,a.count-(g+1));w?d(R,ke.BLACK):(d(R,ke.BLACK),d(R,ke.RED))}return f},o=new xS(t.length),l=s(o);return new Qe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol;const Yn={};class Mt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return I(Yn&&he,"ChildrenNode.ts has not been loaded"),Ol=Ol||new Mt({".priority":Yn},{".priority":he}),Ol}get(e){const n=xr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qe?n:null}hasIndex(e){return Vt(this.indexSet_,e.toString())}addIndex(e,n){I(e!==yr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(W.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=ho(r,e.getCompare()):l=Yn;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new Mt(f,u)}addToIndexes(e,n){const r=lo(this.indexes_,(i,s)=>{const o=xr(this.indexSet_,s);if(I(o,"Missing index implementation for "+s),i===Yn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(W.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),ho(l,o.getCompare())}else return Yn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new W(e.name,l))),a.insert(e,e.node)}});return new Mt(r,this.indexSet_)}removeFromIndexes(e,n){const r=lo(this.indexes_,i=>{if(i===Yn)return i;{const s=n.get(e.name);return s?i.remove(new W(e.name,s)):i}});return new Mt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr;class F{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Jm(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Jr||(Jr=new F(new Qe(ic),null,Mt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jr}updatePriority(e){return this.children_.isEmpty()?this:new F(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Jr:n}}getChild(e){const n=j(e);return n===null?this:this.getImmediateChild(n).getChild(te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(I(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new W(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Jr:this.priorityNode_;return new F(i,o,s)}}updateChild(e,n){const r=j(e);if(r===null)return n;{I(j(e)!==".priority"||pn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(te(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(he,(o,l)=>{n[o]=l.val(e),r++,s&&F.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xm(this.getPriority().val())+":"),this.forEachChild(he,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":km(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new W(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new W(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new W(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,W.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,W.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zi?-1:0}withIndex(e){if(e===yr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new F(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===yr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(he),i=n.getIterator(he);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===yr?null:this.indexMap_.get(e.toString())}}F.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class PS extends F{constructor(){super(new Qe(ic),F.EMPTY_NODE,Mt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return F.EMPTY_NODE}isEmpty(){return!1}}const Zi=new PS;Object.defineProperties(W,{MIN:{value:new W(Pr,F.EMPTY_NODE)},MAX:{value:new W(Un,Zi)}});qm.__EMPTY_NODE=F.EMPTY_NODE;Ce.__childrenNodeConstructor=F;kS(Zi);IS(Zi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=!0;function be(t,e=null){if(t===null)return F.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),I(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ce(n,be(e))}if(!(t instanceof Array)&&AS){const n=[];let r=!1;if(Xe(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=be(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new W(o,a)))}}),n.length===0)return F.EMPTY_NODE;const s=ho(n,ES,o=>o.name,ic);if(r){const o=ho(n,he.getCompare());return new F(s,be(e),new Mt({".priority":o},{".priority":he}))}else return new F(s,be(e),Mt.Default)}else{let n=F.EMPTY_NODE;return Xe(t,(r,i)=>{if(Vt(t,r)&&r.substring(0,1)!=="."){const s=be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(be(e))}}TS(be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends Ho{constructor(e){super(),this.indexPath_=e,I(!$(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Fr(e.name,n.name):s}makePost(e,n){const r=be(e),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new W(n,i)}maxPost(){const e=F.EMPTY_NODE.updateChild(this.indexPath_,Zi);return new W(Un,e)}toString(){return Qm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends Ho{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Fr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(e,n){const r=be(e);return new W(n,r)}toString(){return".value"}}const LS=new OS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){return{type:"value",snapshotNode:t}}function Ar(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function zi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ui(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function MS(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){I(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(zi(n,l)):I(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Ar(n,r)):o.trackChildChange(Ui(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(he,(i,s)=>{n.hasChild(i)||r.trackChildChange(zi(i,s))}),n.isLeafNode()||n.forEachChild(he,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ui(i,s,o))}else r.trackChildChange(Ar(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?F.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.indexedFilter_=new sc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Bi.getStartPost_(e),this.endPost_=Bi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new W(n,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=F.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);const s=this;return n.forEachChild(he,(o,l)=>{s.matches(new W(o,l))||(i=i.updateImmediateChild(o,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Bi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new W(n,r))||(r=F.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(d,p)=>c(p,d)}else o=this.index_.getCompare();const l=e;I(l.numChildren()===this.limit_,"");const a=new W(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:o(d,a);if(f&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Ui(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(zi(n,c));const w=l.updateImmediateChild(n,F.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Ar(d.name,d.node)),w.updateImmediateChild(d.name,d.node)):w}}else return r.isEmpty()?e:f&&o(u,a)>=0?(s!=null&&(s.trackChildChange(zi(u.name,u.node)),s.trackChildChange(Ar(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,F.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=he}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pr}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Un}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===he}copy(){const e=new oc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function FS(t){return t.loadsAllData()?new sc(t.getIndex()):t.hasLimit()?new bS(t):new Bi(t)}function Nf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===he?n="$priority":t.index_===LS?n="$value":t.index_===yr?n="$key":(I(t.index_ instanceof DS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Te(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Te(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Te(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Te(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Te(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Rf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==he&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Vm{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Xi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=po.getListenId_(e,r),l={};this.listens_[o]=l;const a=Nf(e._queryParams);this.restRequest_(s+".json",a,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),xr(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=po.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Nf(e._queryParams),r=e._path.toString(),i=new qu;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+m0(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Li(l.responseText)}catch{nt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&nt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(){return{value:null,children:new Map}}function ng(t,e,n){if($(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=j(e);t.children.has(r)||t.children.set(r,mo());const i=t.children.get(r);e=te(e),ng(i,e,n)}}function $a(t,e,n){t.value!==null?n(e,t.value):US(t,(r,i)=>{const s=new Z(e.toString()+"/"+r);$a(i,s,n)})}function US(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=10*1e3,WS=30*1e3,jS=5*60*1e3;class $S{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new BS(e);const r=xf+(WS-xf)*Math.random();hi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xe(e,(i,s)=>{s>0&&Vt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),hi(this.reportStats_.bind(this),Math.floor(Math.random()*2*jS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_t||(_t={}));function rg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ac(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_t.ACK_USER_WRITE,this.source=rg()}operationForChild(e){if($(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Z(e));return new go(X(),n,this.revert)}}else return I(j(this.path)===e,"operationForChild called for unrelated child."),new go(te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.source=e,this.path=n,this.type=_t.LISTEN_COMPLETE}operationForChild(e){return $(this.path)?new Wi(this.source,X()):new Wi(this.source,te(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_t.OVERWRITE}operationForChild(e){return $(this.path)?new Bn(this.source,X(),this.snap.getImmediateChild(e)):new Bn(this.source,te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_t.MERGE}operationForChild(e){if($(this.path)){const n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new Bn(this.source,X(),n.value):new ji(this.source,X(),n)}else return I(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ji(this.source,te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($(e))return this.isFullyInitialized()&&!this.filtered_;const n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function HS(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(MS(o.childName,o.snapshotNode))}),Zr(t,i,"child_removed",e,r,n),Zr(t,i,"child_added",e,r,n),Zr(t,i,"child_moved",s,r,n),Zr(t,i,"child_changed",e,r,n),Zr(t,i,"value",e,r,n),i}function Zr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>QS(t,l,a)),o.forEach(l=>{const a=GS(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function GS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function QS(t,e,n){if(e.childName==null||n.childName==null)throw br("Should only compare child_ events.");const r=new W(e.childName,e.snapshotNode),i=new W(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t,e){return{eventCache:t,serverCache:e}}function pi(t,e,n,r){return Go(new Wn(e,n,r),t.serverCache)}function ig(t,e,n,r){return Go(t.eventCache,new Wn(e,n,r))}function Va(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function jn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll;const YS=()=>(Ll||(Ll=new Qe(Ow)),Ll);class ie{constructor(e,n=YS()){this.value=e,this.children=n}static fromObject(e){let n=new ie(null);return Xe(e,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:X(),value:this.value};if($(e))return null;{const r=j(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(te(e),n);return s!=null?{path:we(new Z(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($(e))return this;{const n=j(e),r=this.children.get(n);return r!==null?r.subtree(te(e)):new ie(null)}}set(e,n){if($(e))return new ie(n,this.children);{const r=j(e),s=(this.children.get(r)||new ie(null)).set(te(e),n),o=this.children.insert(r,s);return new ie(this.value,o)}}remove(e){if($(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=j(e),r=this.children.get(n);if(r){const i=r.remove(te(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ie(null):new ie(this.value,s)}else return this}}get(e){if($(e))return this.value;{const n=j(e),r=this.children.get(n);return r?r.get(te(e)):null}}setTree(e,n){if($(e))return n;{const r=j(e),s=(this.children.get(r)||new ie(null)).setTree(te(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ie(this.value,o)}}fold(e){return this.fold_(X(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(we(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,X(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($(e))return null;{const s=j(e),o=this.children.get(s);return o?o.findOnPath_(te(e),we(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,X(),n)}foreachOnPath_(e,n,r){if($(e))return this;{this.value&&r(n,this.value);const i=j(e),s=this.children.get(i);return s?s.foreachOnPath_(te(e),we(n,i),r):new ie(null)}}foreach(e){this.foreach_(X(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(we(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.writeTree_=e}static empty(){return new St(new ie(null))}}function mi(t,e,n){if($(e))return new St(new ie(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ge(i,e);return s=s.updateChild(o,n),new St(t.writeTree_.set(i,s))}else{const i=new ie(n),s=t.writeTree_.setTree(e,i);return new St(s)}}}function Pf(t,e,n){let r=t;return Xe(n,(i,s)=>{r=mi(r,we(e,i),s)}),r}function Af(t,e){if($(e))return St.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new St(n)}}function Ha(t,e){return Hn(t,e)!=null}function Hn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ge(n.path,e)):null}function Df(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(he,(r,i)=>{e.push(new W(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new W(r,i.value))}),e}function dn(t,e){if($(e))return t;{const n=Hn(t,e);return n!=null?new St(new ie(n)):new St(t.writeTree_.subtree(e))}}function Ga(t){return t.writeTree_.isEmpty()}function Dr(t,e){return sg(X(),t.writeTree_,e)}function sg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(I(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=sg(we(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(we(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t,e){return ug(e,t)}function KS(t,e,n,r,i){I(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=mi(t.visibleWrites,e,n)),t.lastWriteId=r}function qS(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function XS(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);I(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&JS(l,r.path)?i=!1:vt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return ZS(t),!0;if(r.snap)t.visibleWrites=Af(t.visibleWrites,r.path);else{const l=r.children;Xe(l,a=>{t.visibleWrites=Af(t.visibleWrites,we(r.path,a))})}return!0}else return!1}function JS(t,e){if(t.snap)return vt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&vt(we(t.path,n),e))return!0;return!1}function ZS(t){t.visibleWrites=og(t.allWrites,eC,X()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function eC(t){return t.visible}function og(t,e,n){let r=St.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)vt(n,o)?(l=Ge(n,o),r=mi(r,l,s.snap)):vt(o,n)&&(l=Ge(o,n),r=mi(r,X(),s.snap.getChild(l)));else if(s.children){if(vt(n,o))l=Ge(n,o),r=Pf(r,l,s.children);else if(vt(o,n))if(l=Ge(o,n),$(l))r=Pf(r,X(),s.children);else{const a=xr(s.children,j(l));if(a){const u=a.getChild(te(l));r=mi(r,X(),u)}}}else throw br("WriteRecord should have .snap or .children")}}return r}function lg(t,e,n,r,i){if(!r&&!i){const s=Hn(t.visibleWrites,e);if(s!=null)return s;{const o=dn(t.visibleWrites,e);if(Ga(o))return n;if(n==null&&!Ha(o,X()))return null;{const l=n||F.EMPTY_NODE;return Dr(o,l)}}}else{const s=dn(t.visibleWrites,e);if(!i&&Ga(s))return n;if(!i&&n==null&&!Ha(s,X()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(vt(u.path,e)||vt(e,u.path))},l=og(t.allWrites,o,e),a=n||F.EMPTY_NODE;return Dr(l,a)}}}function tC(t,e,n){let r=F.EMPTY_NODE;const i=Hn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(he,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=dn(t.visibleWrites,e);return n.forEachChild(he,(o,l)=>{const a=Dr(dn(s,new Z(o)),l);r=r.updateImmediateChild(o,a)}),Df(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=dn(t.visibleWrites,e);return Df(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function nC(t,e,n,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=we(e,n);if(Ha(t.visibleWrites,s))return null;{const o=dn(t.visibleWrites,s);return Ga(o)?i.getChild(n):Dr(o,i.getChild(n))}}function rC(t,e,n,r){const i=we(e,n),s=Hn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=dn(t.visibleWrites,i);return Dr(o,r.getNode().getImmediateChild(n))}else return null}function iC(t,e){return Hn(t.visibleWrites,e)}function sC(t,e,n,r,i,s,o){let l;const a=dn(t.visibleWrites,e),u=Hn(a,X());if(u!=null)l=u;else if(n!=null)l=Dr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],c=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let p=d.getNext();for(;p&&f.length<i;)c(p,r)!==0&&f.push(p),p=d.getNext();return f}else return[]}function oC(){return{visibleWrites:St.empty(),allWrites:[],lastWriteId:-1}}function vo(t,e,n,r){return lg(t.writeTree,t.treePath,e,n,r)}function cc(t,e){return tC(t.writeTree,t.treePath,e)}function Of(t,e,n,r){return nC(t.writeTree,t.treePath,e,n,r)}function _o(t,e){return iC(t.writeTree,we(t.treePath,e))}function lC(t,e,n,r,i,s){return sC(t.writeTree,t.treePath,e,n,r,i,s)}function dc(t,e,n){return rC(t.writeTree,t.treePath,e,n)}function ag(t,e){return ug(we(t.treePath,e),t.writeTree)}function ug(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ui(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,zi(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ar(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ui(r,e.snapshotNode,i.oldSnap));else throw br("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const cg=new uC;class fc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Wn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:jn(this.viewCache_),s=lC(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){return{filter:t}}function dC(t,e){I(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function fC(t,e,n,r,i){const s=new aC;let o,l;if(n.type===_t.OVERWRITE){const u=n;u.source.fromUser?o=Qa(t,e,u.path,u.snap,r,i,s):(I(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!$(u.path),o=yo(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===_t.MERGE){const u=n;u.source.fromUser?o=pC(t,e,u.path,u.children,r,i,s):(I(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Ya(t,e,u.path,u.children,r,i,l,s))}else if(n.type===_t.ACK_USER_WRITE){const u=n;u.revert?o=vC(t,e,u.path,r,i,s):o=mC(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===_t.LISTEN_COMPLETE)o=gC(t,e,n.path,r,s);else throw br("Unknown operation type: "+n.type);const a=s.getChanges();return hC(e,o,a),{viewCache:o,changes:a}}function hC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Va(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(tg(Va(e)))}}function dg(t,e,n,r,i,s){const o=e.eventCache;if(_o(r,n)!=null)return e;{let l,a;if($(n))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=jn(e),f=u instanceof F?u:F.EMPTY_NODE,c=cc(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const u=vo(r,jn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=j(n);if(u===".priority"){I(pn(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const c=Of(r,n,f,a);c!=null?l=t.filter.updatePriority(f,c):l=o.getNode()}else{const f=te(n);let c;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const d=Of(r,n,o.getNode(),a);d!=null?c=o.getNode().getImmediateChild(u).updateChild(f,d):c=o.getNode().getImmediateChild(u)}else c=dc(r,u,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),u,c,f,i,s):l=o.getNode()}}return pi(e,l,o.isFullyInitialized()||$(n),t.filter.filtersNodes())}}function yo(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if($(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),p,null)}else{const p=j(n);if(!a.isCompleteForPath(n)&&pn(n)>1)return e;const g=te(n),R=a.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=f.updatePriority(a.getNode(),R):u=f.updateChild(a.getNode(),p,R,g,cg,null)}const c=ig(e,u,a.isFullyInitialized()||$(n),f.filtersNodes()),d=new fc(i,c,s);return dg(t,c,n,i,d,l)}function Qa(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const f=new fc(i,e,s);if($(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=pi(e,u,!0,t.filter.filtersNodes());else{const c=j(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=pi(e,u,l.isFullyInitialized(),l.isFiltered());else{const d=te(n),p=l.getNode().getImmediateChild(c);let g;if($(d))g=r;else{const w=f.getCompleteChild(c);w!=null?Gm(d)===".priority"&&w.getChild(Ym(d)).isEmpty()?g=w:g=w.updateChild(d,r):g=F.EMPTY_NODE}if(p.equals(g))a=e;else{const w=t.filter.updateChild(l.getNode(),c,g,d,f,o);a=pi(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Lf(t,e){return t.eventCache.isCompleteForChild(e)}function pC(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const f=we(n,a);Lf(e,j(f))&&(l=Qa(t,l,f,u,i,s,o))}),r.foreach((a,u)=>{const f=we(n,a);Lf(e,j(f))||(l=Qa(t,l,f,u,i,s,o))}),l}function Mf(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ya(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;$(n)?u=r:u=new ie(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const p=e.serverCache.getNode().getImmediateChild(c),g=Mf(t,p,d);a=yo(t,a,new Z(c),g,i,s,o,l)}}),u.children.inorderTraversal((c,d)=>{const p=!e.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!p){const g=e.serverCache.getNode().getImmediateChild(c),w=Mf(t,g,d);a=yo(t,a,new Z(c),w,i,s,o,l)}}),a}function mC(t,e,n,r,i,s,o){if(_o(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if($(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return yo(t,e,n,a.getNode().getChild(n),i,s,l,o);if($(n)){let u=new ie(null);return a.getNode().forEachChild(yr,(f,c)=>{u=u.set(new Z(f),c)}),Ya(t,e,n,u,i,s,l,o)}else return e}else{let u=new ie(null);return r.foreach((f,c)=>{const d=we(n,f);a.isCompleteForPath(d)&&(u=u.set(f,a.getNode().getChild(d)))}),Ya(t,e,n,u,i,s,l,o)}}function gC(t,e,n,r,i){const s=e.serverCache,o=ig(e,s.getNode(),s.isFullyInitialized()||$(n),s.isFiltered());return dg(t,o,n,r,cg,i)}function vC(t,e,n,r,i,s){let o;if(_o(r,n)!=null)return e;{const l=new fc(r,e,i),a=e.eventCache.getNode();let u;if($(n)||j(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=vo(r,jn(e));else{const c=e.serverCache.getNode();I(c instanceof F,"serverChildren would be complete if leaf node"),f=cc(r,c)}f=f,u=t.filter.updateFullNode(a,f,s)}else{const f=j(n);let c=dc(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=a.getImmediateChild(f)),c!=null?u=t.filter.updateChild(a,f,c,te(n),l,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(a,f,F.EMPTY_NODE,te(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=vo(r,jn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||_o(r,X())!=null,pi(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new sc(r.getIndex()),s=FS(r);this.processor_=cC(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(F.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(F.EMPTY_NODE,l.getNode(),null),f=new Wn(a,o.isFullyInitialized(),i.filtersNodes()),c=new Wn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Go(c,f),this.eventGenerator_=new VS(this.query_)}get query(){return this.query_}}function yC(t){return t.viewCache_.serverCache.getNode()}function wC(t,e){const n=jn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function bf(t){return t.eventRegistrations_.length===0}function SC(t,e){t.eventRegistrations_.push(e)}function Ff(t,e,n){const r=[];if(n){I(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function zf(t,e,n,r){e.type===_t.MERGE&&e.source.queryId!==null&&(I(jn(t.viewCache_),"We should always have a full cache before handling merges"),I(Va(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=fC(t.processor_,i,e,n,r);return dC(t.processor_,s.viewCache),I(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,fg(t,s.changes,s.viewCache.eventCache.getNode(),null)}function CC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(he,(s,o)=>{r.push(Ar(s,o))}),n.isFullyInitialized()&&r.push(tg(n.getNode())),fg(t,r,n.getNode(),e)}function fg(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return HS(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo;class EC{constructor(){this.views=new Map}}function kC(t){I(!wo,"__referenceConstructor has already been defined"),wo=t}function TC(){return I(wo,"Reference.ts has not been loaded"),wo}function IC(t){return t.views.size===0}function hc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return I(s!=null,"SyncTree gave us an op for an invalid query."),zf(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(zf(o,e,n,r));return s}}function NC(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=vo(n,i?r:null),a=!1;l?a=!0:r instanceof F?(l=cc(n,r),a=!1):(l=F.EMPTY_NODE,a=!1);const u=Go(new Wn(l,a,!1),new Wn(r,i,!1));return new _C(e,u)}return o}function RC(t,e,n,r,i,s){const o=NC(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),SC(o,n),CC(o,n)}function xC(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=mn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(Ff(u,n,r)),bf(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(Ff(a,n,r)),bf(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!mn(t)&&s.push(new(TC())(e._repo,e._path)),{removed:s,events:o}}function hg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wr(t,e){let n=null;for(const r of t.views.values())n=n||wC(r,e);return n}function pg(t,e){if(e._queryParams.loadsAllData())return Qo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function mg(t,e){return pg(t,e)!=null}function mn(t){return Qo(t)!=null}function Qo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So;function PC(t){I(!So,"__referenceConstructor has already been defined"),So=t}function AC(){return I(So,"Reference.ts has not been loaded"),So}let DC=1;class Uf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=oC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function OC(t,e,n,r,i){return KS(t.pendingWriteTree_,e,n,r,i),i?es(t,new Bn(rg(),e,n)):[]}function ar(t,e,n=!1){const r=qS(t.pendingWriteTree_,e);if(XS(t.pendingWriteTree_,e)){let s=new ie(null);return r.snap!=null?s=s.set(X(),!0):Xe(r.children,o=>{s=s.set(new Z(o),!0)}),es(t,new go(r.path,s,n))}else return[]}function Yo(t,e,n){return es(t,new Bn(lc(),e,n))}function LC(t,e,n){const r=ie.fromObject(n);return es(t,new ji(lc(),e,r))}function MC(t,e){return es(t,new Wi(lc(),e))}function bC(t,e,n){const r=pc(t,n);if(r){const i=mc(r),s=i.path,o=i.queryId,l=Ge(s,e),a=new Wi(ac(o),l);return gc(t,s,a)}else return[]}function Ka(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||mg(o,e))){const a=xC(o,e,n,r);IC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const f=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(s,(d,p)=>mn(p));if(f&&!c){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const p=UC(d);for(let g=0;g<p.length;++g){const w=p[g],R=w.query,m=yg(t,w);t.listenProvider_.startListening(gi(R),Co(t,R),m.hashFn,m.onComplete)}}}!c&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(gi(e),null):u.forEach(d=>{const p=t.queryToTagMap.get(Ko(d));t.listenProvider_.stopListening(gi(d),p)}))}BC(t,u)}return l}function FC(t,e,n,r){const i=pc(t,r);if(i!=null){const s=mc(i),o=s.path,l=s.queryId,a=Ge(o,e),u=new Bn(ac(l),a,n);return gc(t,o,u)}else return[]}function zC(t,e,n,r){const i=pc(t,r);if(i){const s=mc(i),o=s.path,l=s.queryId,a=Ge(o,e),u=ie.fromObject(n),f=new ji(ac(l),a,u);return gc(t,o,f)}else return[]}function Bf(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const g=Ge(d,i);s=s||wr(p,g),o=o||mn(p)});let l=t.syncPointTree_.get(i);l?(o=o||mn(l),s=s||wr(l,X())):(l=new EC,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=F.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,g)=>{const w=wr(g,X());w&&(s=s.updateImmediateChild(p,w))}));const u=mg(l,e);if(!u&&!e._queryParams.loadsAllData()){const d=Ko(e);I(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=WC();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const f=uc(t.pendingWriteTree_,i);let c=RC(l,e,n,f,s,a);if(!u&&!o&&!r){const d=pg(l,e);c=c.concat(jC(t,e,d))}return c}function gg(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ge(o,e),u=wr(l,a);if(u)return u});return lg(i,e,s,n,!0)}function es(t,e){return vg(e,t.syncPointTree_,null,uc(t.pendingWriteTree_,X()))}function vg(t,e,n,r){if($(t.path))return _g(t,e,n,r);{const i=e.get(X());n==null&&i!=null&&(n=wr(i,X()));let s=[];const o=j(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,f=ag(r,o);s=s.concat(vg(l,a,u,f))}return i&&(s=s.concat(hc(i,t,r,n))),s}}function _g(t,e,n,r){const i=e.get(X());n==null&&i!=null&&(n=wr(i,X()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=ag(r,o),f=t.operationForChild(o);f&&(s=s.concat(_g(f,l,a,u)))}),i&&(s=s.concat(hc(i,t,r,n))),s}function yg(t,e){const n=e.query,r=Co(t,n);return{hashFn:()=>(yC(e)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?bC(t,n._path,r):MC(t,n._path);{const s=bw(i,n);return Ka(t,n,null,s)}}}}function Co(t,e){const n=Ko(e);return t.queryToTagMap.get(n)}function Ko(t){return t._path.toString()+"$"+t._queryIdentifier}function pc(t,e){return t.tagToQueryMap.get(e)}function mc(t){const e=t.indexOf("$");return I(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}}function gc(t,e,n){const r=t.syncPointTree_.get(e);I(r,"Missing sync point for query tag that we're tracking");const i=uc(t.pendingWriteTree_,e);return hc(r,n,i,null)}function UC(t){return t.fold((e,n,r)=>{if(n&&mn(n))return[Qo(n)];{let i=[];return n&&(i=hg(n)),Xe(r,(s,o)=>{i=i.concat(o)}),i}})}function gi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(AC())(t._repo,t._path):t}function BC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ko(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function WC(){return DC++}function jC(t,e,n){const r=e._path,i=Co(t,e),s=yg(t,n),o=t.listenProvider_.startListening(gi(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)I(!mn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,c)=>{if(!$(u)&&f&&mn(f))return[Qo(f).query];{let d=[];return f&&(d=d.concat(hg(f).map(p=>p.query))),Xe(c,(p,g)=>{d=d.concat(g)}),d}});for(let u=0;u<a.length;++u){const f=a[u];t.listenProvider_.stopListening(gi(f),Co(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vc(n)}node(){return this.node_}}class _c{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=we(this.path_,e);return new _c(this.syncTree_,n)}node(){return gg(this.syncTree_,this.path_)}}const $C=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Wf=function(t,e,n){if(!t||typeof t!="object")return t;if(I(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return VC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return HC(t[".sv"],e);I(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},VC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+t)}},HC=function(t,e,n){t.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);const i=e.node();if(I(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},GC=function(t,e,n,r){return yc(e,new _c(n,t),r)},QC=function(t,e,n){return yc(t,new vc(e),n)};function yc(t,e,n){const r=t.getPriority().val(),i=Wf(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Wf(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ce(l,be(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ce(i))),o.forEachChild(he,(l,a)=>{const u=yc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Sc(t,e){let n=e instanceof Z?e:new Z(e),r=t,i=j(n);for(;i!==null;){const s=xr(r.node.children,i)||{children:{},childCount:0};r=new wc(i,r,s),n=te(n),i=j(n)}return r}function zr(t){return t.node.value}function wg(t,e){t.node.value=e,qa(t)}function Sg(t){return t.node.childCount>0}function YC(t){return zr(t)===void 0&&!Sg(t)}function qo(t,e){Xe(t.node.children,(n,r)=>{e(new wc(n,t,r))})}function Cg(t,e,n,r){n&&!r&&e(t),qo(t,i=>{Cg(i,e,!0,r)}),n&&r&&e(t)}function KC(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ts(t){return new Z(t.parent===null?t.name:ts(t.parent)+"/"+t.name)}function qa(t){t.parent!==null&&qC(t.parent,t.name,t)}function qC(t,e,n){const r=YC(n),i=Vt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qa(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qa(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/[\[\].#$\/\u0000-\u001F\u007F]/,JC=/[\[\].#$\u0000-\u001F\u007F]/,Ml=10*1024*1024,Eg=function(t){return typeof t=="string"&&t.length!==0&&!XC.test(t)},kg=function(t){return typeof t=="string"&&t.length!==0&&!JC.test(t)},ZC=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kg(t)},Tg=function(t,e,n){const r=n instanceof Z?new mS(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+kn(r));if(typeof e=="function")throw new Error(t+"contains a function "+kn(r)+" with contents = "+e.toString());if(Tm(e))throw new Error(t+"contains "+e.toString()+" "+kn(r));if(typeof e=="string"&&e.length>Ml/3&&$o(e)>Ml)throw new Error(t+"contains a string greater than "+Ml+" utf8 bytes "+kn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Eg(o)))throw new Error(t+" contains an invalid key ("+o+") "+kn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);gS(r,o),Tg(t,l,r),vS(r)}),i&&s)throw new Error(t+' contains ".value" child '+kn(r)+" in addition to actual children.")}},Ig=function(t,e,n,r){if(!(r&&n===void 0)&&!kg(n))throw new Error(mm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},e1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ig(t,e,n,r)},t1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Eg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ZC(n))throw new Error(mm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ng(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!nc(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Rg(t,e,n){Ng(t,n),xg(t,r=>nc(r,e))}function Gn(t,e,n){Ng(t,n),xg(t,r=>vt(r,e)||vt(e,r))}function xg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(r1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function r1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();An&&Me("event: "+n.toString()),Ji(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="repo_interrupt",s1=25;class o1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new n1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mo(),this.transactionQueueTree_=new wc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function l1(t,e,n){if(t.stats_=ec(t.repoInfo_),t.forceRestClient_||Bw())t.server_=new po(t.repoInfo_,(r,i,s,o)=>{jf(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>$f(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Te(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ft(t.repoInfo_,e,(r,i,s,o)=>{jf(t,r,i,s,o)},r=>{$f(t,r)},r=>{u1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Hw(t.repoInfo_,()=>new $S(t.stats_,t.server_)),t.infoData_=new zS,t.infoSyncTree_=new Uf({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Yo(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Cc(t,"connected",!1),t.serverSyncTree_=new Uf({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Gn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function a1(t){const n=t.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pg(t){return $C({timestamp:a1(t)})}function jf(t,e,n,r,i){t.dataUpdateCount++;const s=new Z(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=lo(n,u=>be(u));o=zC(t.serverSyncTree_,s,a,i)}else{const a=be(n);o=FC(t.serverSyncTree_,s,a,i)}else if(r){const a=lo(n,u=>be(u));o=LC(t.serverSyncTree_,s,a)}else{const a=be(n);o=Yo(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=kc(t,s)),Gn(t.eventQueue_,l,o)}function $f(t,e){Cc(t,"connected",e),e===!1&&d1(t)}function u1(t,e){Xe(e,(n,r)=>{Cc(t,n,r)})}function Cc(t,e,n){const r=new Z("/.info/"+e),i=be(n);t.infoData_.updateSnapshot(r,i);const s=Yo(t.infoSyncTree_,r,i);Gn(t.eventQueue_,r,s)}function c1(t){return t.nextWriteId_++}function d1(t){Ag(t,"onDisconnectEvents");const e=Pg(t),n=mo();$a(t.onDisconnect_,X(),(i,s)=>{const o=GC(i,s,t.serverSyncTree_,e);ng(n,i,o)});let r=[];$a(n,X(),(i,s)=>{r=r.concat(Yo(t.serverSyncTree_,i,s));const o=g1(t,i);kc(t,o)}),t.onDisconnect_=mo(),Gn(t.eventQueue_,X(),r)}function f1(t,e,n){let r;j(e._path)===".info"?r=Bf(t.infoSyncTree_,e,n):r=Bf(t.serverSyncTree_,e,n),Rg(t.eventQueue_,e._path,r)}function Vf(t,e,n){let r;j(e._path)===".info"?r=Ka(t.infoSyncTree_,e,n):r=Ka(t.serverSyncTree_,e,n),Rg(t.eventQueue_,e._path,r)}function h1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(i1)}function Ag(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Me(n,...e)}function Dg(t,e,n){return gg(t.serverSyncTree_,e,n)||F.EMPTY_NODE}function Ec(t,e=t.transactionQueueTree_){if(e||Xo(t,e),zr(e)){const n=Lg(t,e);I(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&p1(t,ts(e),n)}else Sg(e)&&qo(e,n=>{Ec(t,n)})}function p1(t,e,n){const r=n.map(u=>u.currentWriteId),i=Dg(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];I(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=Ge(e,f.path);s=s.updateChild(c,f.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Ag(t,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(ar(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Xo(t,Sc(t.transactionQueueTree_,e)),Ec(t,t.transactionQueueTree_),Gn(t.eventQueue_,e,f);for(let d=0;d<c.length;d++)Ji(c[d])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{nt("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}kc(t,e)}},o)}function kc(t,e){const n=Og(t,e),r=ts(n),i=Lg(t,n);return m1(t,i,r),r}function m1(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Ge(n,a.path);let f=!1,c;if(I(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,c=a.abortReason,i=i.concat(ar(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=s1)f=!0,c="maxretry",i=i.concat(ar(t.serverSyncTree_,a.currentWriteId,!0));else{const d=Dg(t,a.path,o);a.currentInputSnapshot=d;const p=e[l].update(d.val());if(p!==void 0){Tg("transaction failed: Data returned ",p,a.path);let g=be(p);typeof p=="object"&&p!=null&&Vt(p,".priority")||(g=g.updatePriority(d.getPriority()));const R=a.currentWriteId,m=Pg(t),h=QC(g,d,m);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=h,a.currentWriteId=c1(t),o.splice(o.indexOf(R),1),i=i.concat(OC(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(ar(t.serverSyncTree_,R,!0))}else f=!0,c="nodata",i=i.concat(ar(t.serverSyncTree_,a.currentWriteId,!0))}Gn(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}Xo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Ji(r[l]);Ec(t,t.transactionQueueTree_)}function Og(t,e){let n,r=t.transactionQueueTree_;for(n=j(e);n!==null&&zr(r)===void 0;)r=Sc(r,n),e=te(e),n=j(e);return r}function Lg(t,e){const n=[];return Mg(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Mg(t,e,n){const r=zr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);qo(e,i=>{Mg(t,i,n)})}function Xo(t,e){const n=zr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,wg(e,n.length>0?n:void 0)}qo(e,r=>{Xo(t,r)})}function g1(t,e){const n=ts(Og(t,e)),r=Sc(t.transactionQueueTree_,e);return KC(r,i=>{bl(t,i)}),bl(t,r),Cg(r,i=>{bl(t,i)}),n}function bl(t,e){const n=zr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(I(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(I(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ar(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?wg(e,void 0):n.length=s+1,Gn(t.eventQueue_,ts(e),i);for(let o=0;o<r.length;o++)Ji(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Hf=function(t,e){const n=y1(t),r=n.namespace;n.domain==="firebase.com"&&jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Aw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Fm(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Z(n.pathString)}},y1=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=v1(t.substring(f,c)));const d=_1(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Te(this.snapshot.exportVal())}}class Fg{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $(this._path)?null:Gm(this._path)}get ref(){return new Ht(this._repo,this._path)}get _queryIdentifier(){const e=Rf(this._queryParams),n=Ju(e);return n==="{}"?"default":n}get _queryObject(){return Rf(this._queryParams)}isEqual(e){if(e=Vo(e),!(e instanceof Tc))return!1;const n=this._repo===e._repo,r=nc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+pS(this._path)}}class Ht extends Tc{constructor(e,n){super(e,n,new oc,!1)}get parent(){const e=Ym(this._path);return e===null?null:new Ht(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class $i{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Z(e),r=Eo(this.ref,e);return new $i(this._node.getChild(n),r,he)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new $i(i,Eo(this.ref,r),he)))}hasChild(e){const n=new Z(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function S1(t,e){return t=Vo(t),t._checkNotDeleted("ref"),e!==void 0?Eo(t._root,e):t._root}function Eo(t,e){return t=Vo(t),j(t._path)===null?e1("child","path",e,!1):Ig("child","path",e,!1),new Ht(t._repo,we(t._path,e))}class Ic{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new bg("value",this,new $i(e.snapshotNode,new Ht(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Fg(this,e,n):null}matches(e){return e instanceof Ic?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Nc{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Fg(this,e,n):null}createEvent(e,n){I(e.childName!=null,"Child events should have a childName.");const r=Eo(new Ht(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new bg(e.type,this,new $i(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Nc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function C1(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(f,c)=>{Vf(t._repo,t,l),a(f,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new w1(n,s||void 0),l=e==="value"?new Ic(o):new Nc(e,o);return f1(t._repo,t,l),()=>Vf(t._repo,t,l)}function E1(t,e,n,r){return C1(t,"value",e,n,r)}kC(Ht);PC(Ht);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="FIREBASE_DATABASE_EMULATOR_HOST",Xa={};let T1=!1;function I1(t,e,n,r){t.repoInfo_=new Fm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function N1(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Hf(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[k1]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Hf(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const f=i&&a?new _r(_r.OWNER):new jw(t.name,t.options,e);t1("Invalid Firebase Database URL",o),$(o.path)||jt("Database URL must point to the root of a Firebase Database (not including a child path).");const c=x1(l,t,f,new Ww(t.name,n));return new P1(c,t)}function R1(t,e){const n=Xa[e];(!n||n[t.key]!==t)&&jt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),h1(t),delete n[t.key]}function x1(t,e,n,r){let i=Xa[e.name];i||(i={},Xa[e.name]=i);let s=i[t.toURLString()];return s&&jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new o1(t,T1,n,r),i[t.toURLString()]=s,s}class P1{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(l1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ht(this._repo,X())),this._rootInternal}_delete(){return this._rootInternal!==null&&(R1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&jt("Cannot call "+e+" on a deleted database.")}}function A1(t=gw(),e){const n=fw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=r0("database");r&&D1(n,...r)}return n}function D1(t,e,n,r={}){t=Vo(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&jt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new _r(_r.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:s0(r.mockUserToken,t.app.options.projectId);s=new _r(o)}I1(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){Iw(mw),uo(new Mi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return N1(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),gr(df,ff,t),gr(df,ff,"esm2017")}Ft.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ft.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};O1();var L1="firebase",M1="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(L1,M1,"app");const b1={apiKey:"AIzaSyA1_F1pROIduw6oLTxIUpyypPS3iciASk4",authDomain:"rokers-88dad.firebaseapp.com",projectId:"rokers-88dad",storageBucket:"rokers-88dad.appspot.com",messagingSenderId:"472240287143",appId:"1:472240287143:web:edf03ee0c37093d27a5a82",databaseURL:"https://rokers-88dad-default-rtdb.asia-southeast1.firebasedatabase.app"},F1=ym(b1),z1=A1(F1);function U1(){const{changeVolume:t,next:e,prev:n,volumeRef:r}=Y.exports.useContext(Wo);return H("div",{className:"controls",children:[k("div",{className:"playArrow",onClick:n,children:k("span",{className:"material-icons",children:"skip_previous"})}),k("input",{ref:r,type:"range",className:"seek",min:"0",max:"255",defaultValue:"255",onTouchEnd:t,onMouseUp:t}),k("div",{className:"playArrow",onClick:e,children:k("span",{className:"material-icons",children:"skip_next"})})]})}function B1(){var u,f,c,d,p,g,w,R,m,h,v;const{togglePlay:t,height:e,setHeight:n,player:r,setPlayer:i}=Y.exports.useContext(Wo),[s,o]=Y.exports.useState(null),[l,a]=Y.exports.useState(0);return Y.exports.useEffect(()=>{E1(S1(z1,"player"),S=>{i(S.val()),clearInterval(s)})},[]),Y.exports.useEffect(()=>{try{if(s&&clearInterval(s),console.log(r),!r)return;const S=new Date(r.added);if(new Date-S>r.song.duration_ms)s&&clearInterval(s);else{const T=setInterval(()=>{let P=0;const b=new Date-S;b>r.song.duration_ms&&(P=100,clearInterval(T),s&&clearInterval(s)),P=b/r.song.duration_ms*100,console.log(P),r!=null&&r.playing&&document.querySelector(".RadialProgress").style.setProperty("--progress",P+"%"),P>=100&&clearInterval(T)},1e3);o(T)}}catch(S){console.error(S)}},[r]),H("div",{className:"nowPlaying",onPointerOver:()=>n(160),onPointerLeave:()=>n(112),onTouchMove:S=>{S.touches[0].clientY<l?n(160):n(112),console.log(S.touches[0].clientY-l)},onTouchStart:S=>{a(S.touches[0].clientY)},style:{display:"flex",position:"fixed",flexDirection:"column",padding:"16px",alignContent:"center",height:e,borderRadius:16,bottom:24,width:360,backgroundColor:"var(--container)",zIndex:98,overflow:"hidden",transition:"height 0.2s ease-in-out",boxShadow:"0px 0px 36px var(--st)"},children:[H("div",{className:"searchResult",children:[H("div",{className:"coverPhoto",children:[k("img",{className:"actual",src:(f=(u=r==null?void 0:r.song)==null?void 0:u.album)==null?void 0:f.images[1].url,alt:"AlbumArt"}),k("img",{className:"reflection",src:(d=(c=r==null?void 0:r.song)==null?void 0:c.album)==null?void 0:d.images[1].url,alt:"AlbumArt"})]}),H("div",{className:"info",children:[k("div",{className:"title",children:k("a",{href:(p=r==null?void 0:r.song)==null?void 0:p.download,target:"_blank",children:(g=r==null?void 0:r.song)==null?void 0:g.name})}),H("div",{className:"aa",children:[k("div",{className:"artist",children:k("a",{href:(w=r==null?void 0:r.song)==null?void 0:w.album.external_urls.spotify,target:"_blank",children:(m=(R=r==null?void 0:r.song)==null?void 0:R.album)==null?void 0:m.name.substr(0,12)})}),k("div",{className:"album",children:k("a",{href:(h=r==null?void 0:r.song)==null?void 0:h.artists[0].external_urls.spotify,target:"_blank",children:(v=r==null?void 0:r.song)==null?void 0:v.artists[0].name})})]})]}),k("div",{className:"playArrow playButton RadialProgress",role:"progressbar","aria-valuenow":"5","aria-valuemin":"0","aria-valuemax":"100",onClick:t,children:k("span",{className:"material-icons-outlined",style:{fontSize:32},children:r!=null&&r.playing?"pause":"play_arrow"})})]}),k(U1,{})]})}function W1(){const[t,e]=Y.exports.useState([]),[n,r]=Y.exports.useState(4);Y.exports.useEffect(()=>{xe({path:`/recentlyPlayed/${n}/${0}/`}).then(o=>o.json()).then(o=>{e(o)}).catch(o=>{console.log(o)})},[n]);function i(o,l){xe({path:"toggleFavourite/"+o,options:{method:"GET"}}).then(a=>a.json()).then(a=>{if(a.error){console.error(a.error);return}console.log(a);let u=[...t];u[l].favourite=!u[l].favourite,e(u)}).catch(a=>{console.error(a)})}function s(o){xe({path:"play",options:{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({track:{id:o}})}})}return H("div",{className:"recentlyPlayed",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",width:"100%",margin:"16px 0 0 0"},children:[H("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[k("span",{style:{fontSize:24,fontWeight:"bold",color:"var(--pt)"},children:"Recently Played"}),k("span",{className:"seeAll",onClick:()=>{r(20)},children:"See all"})]}),k("div",{className:"recentLists",style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%",flexWrap:"wrap",paddingTop:16},children:t&&t.length>0&&t.map((o,l)=>H("div",{className:"searchResult",children:[H("div",{className:"coverPhoto",children:[k("img",{className:"actual",src:o.albumArt,alt:"AlbumArt"}),k("img",{className:"reflection",src:o.albumArt,alt:"AlbumArt"})]}),H("div",{className:"info",children:[k("div",{className:"title",children:o.name}),k("div",{className:"aa",children:k("div",{className:"album",children:o.albumName})})]}),k("div",{className:"playArrow playButton",style:{width:60,marginRight:8},onClick:()=>i(o.sid,l),children:k("span",{className:"material-icons-outlined",style:{color:o.favourite&&"var(--red)"},children:"favorite"})}),k("div",{className:"playArrow playButton",style:{width:60},onClick:()=>{s(o.sid)},children:k("span",{className:"material-icons-outlined",style:{fontSize:32},children:"play_arrow"})})]}))})]})}function j1(){const[t,e]=Y.exports.useState(!1),[n,r]=Y.exports.useState(112),[i,s]=Y.exports.useState(null),o=Y.exports.useRef(null),l={paused:t,setPaused:e,height:n,setHeight:r,player:i,setPlayer:s,volumeRef:o,togglePlay:function(){i&&xe({path:"command/pause",options:{method:"GET",mode:"cors",cache:"no-cache"}})},changeVolume:function(a){const u=a.target.value;console.log(u),xe({path:"command/volume-"+u,options:{method:"GET"}})},next:function(){xe({path:"command/next",options:{method:"GET"}})},prev:function(){xe({path:"command/prev",options:{method:"GET"}})},search:function(a){return new Promise((u,f)=>{xe({path:"search/"+encodeURI(a)+"?limit=1",options:{method:"GET"}}).then(c=>c.json()).then(c=>{u(c)}).catch(c=>{f(c)})})},playSong:function(a){return new Promise((u,f)=>{xe({path:"play",options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({track:a})}}).then(c=>c.json()).then(c=>{console.log(c),u(c)}).catch(c=>{f(c)})})}};return k(Wo.Provider,{value:l,children:H("div",{className:"root",style:{display:"flex",position:"relative",flexDirection:"column",padding:"8px 16px",alignContent:"center",maxWidth:"390px"},children:[k(Yy,{}),k("br",{}),k(Ry,{}),k(Iy,{}),k("br",{}),k(W1,{}),k("br",{}),k("br",{}),k("br",{}),k("br",{}),k("br",{}),k("br",{}),k("br",{}),k(B1,{})]})})}Fl.createRoot(document.getElementById("root")).render(k(j1,{}));
